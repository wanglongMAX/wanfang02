var QRCode;!function(m,ee,te){"use strict";function b(s){return function(){var e,t,n,r=arguments[0],i="["+(s?s+":":"")+r+"] ",o=arguments[1],a=arguments;for(e=(e=i+o.replace(/\{\d+\}/g,function(e){var t,n=+e.slice(1,-1);return n+2<a.length?"function"==typeof(t=a[n+2])?t.toString().replace(/ ?\{[\s\S]*$/,""):void 0===t?"undefined":"string"!=typeof t?I(t):t:e}))+"\nhttp://errors.angularjs.org/1.3.0-beta.10/"+(s?s+"/":"")+r,t=2;t<arguments.length;t++)e=e+(2==t?"?":"&")+"p"+(t-2)+"="+encodeURIComponent("function"==typeof(n=arguments[t])?n.toString().replace(/ \{[\s\S]*$/,""):void 0===n?"undefined":"string"!=typeof n?JSON.stringify(n):n);return new Error(e)}}var M=function(e){return se(e)?e.toLowerCase():e},g=Object.prototype.hasOwnProperty,v=function(e){return se(e)?e.toUpperCase():e};"i"!=="I".toLowerCase()&&(M=function(e){return se(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},v=function(e){return se(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e});var F,ne,r,$,N,i=[].slice,e=[].push,s=Object.prototype.toString,o=b("ng"),l=m.angular||(m.angular={}),n=["0","0","0"];function O(e){if(null==e||h(e))return!1;var t=e.length;return!(1!==e.nodeType||!t)||(se(e)||ue(e)||0===t||"number"==typeof t&&0<t&&t-1 in e)}function re(e,t,n){var r;if(e)if(ce(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r);else if(e.forEach&&e.forEach!==re)e.forEach(t,n);else if(O(e))for(r=0;r<e.length;r++)t.call(n,e[r],r);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function U(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function y(n){return function(e,t){n(t,e)}}function a(){for(var e,t=n.length;t;){if(57==(e=n[--t].charCodeAt(0)))return n[t]="A",n.join("");if(90!=e)return n[t]=String.fromCharCode(e+1),n.join("");n[t]="0"}return n.unshift("0"),n.join("")}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function ie(n){var e=n.$$hashKey;return re(arguments,function(e){e!==n&&re(e,function(e,t){n[t]=e})}),u(n,e),n}function _(e){return parseInt(e,10)}function w(e,t){return ie(new(ie(function(){},{prototype:e})),t)}function k(){}function f(e){return e}function oe(e){return function(){return e}}function P(e){return void 0===e}function q(e){return void 0!==e}function ae(e){return null!=e&&"object"==typeof e}function se(e){return"string"==typeof e}function x(e){return"number"==typeof e}function p(e){return"[object Date]"===s.call(e)}function ue(e){return"[object Array]"===s.call(e)}function ce(e){return"function"==typeof e}function c(e){return"[object RegExp]"===s.call(e)}function h(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function d(e){return e&&e.$evalAsync&&e.$watch}F=_((/msie (\d+)/.exec(M(navigator.userAgent))||[])[1]),isNaN(F)&&(F=_((/trident\/.*; rv:(\d+)/.exec(M(navigator.userAgent))||[])[1])),k.$inject=[],f.$inject=[];var le=String.prototype.trim?function(e){return se(e)?e.trim():e}:function(e){return se(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e};function S(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function C(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function fe(e,t){var n=C(e,t);return 0<=n&&e.splice(n,1),t}function E(e,n){if(h(e)||d(e))throw o("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(n){if(e===n)throw o("cpi","Can't copy! Source and destination are identical.");if(ue(e))for(var t=n.length=0;t<e.length;t++)n.push(E(e[t]));else{var r=n.$$hashKey;for(var i in re(n,function(e,t){delete n[t]}),e)n[i]=E(e[i]);u(n,r)}}else(n=e)&&(ue(e)?n=E(e,[]):p(e)?n=new Date(e.getTime()):c(e)?n=new RegExp(e.source):ae(e)&&(n=E(e,{})));return n}function he(e,t){for(var n in t=t||{},e)!e.hasOwnProperty(n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t}function pe(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r,i,o=typeof e;if(o==typeof t&&"object"==o){if(!ue(e)){if(p(e))return p(t)&&e.getTime()==t.getTime();if(c(e)&&c(t))return e.toString()==t.toString();if(d(e)||d(t)||h(e)||h(t)||ue(t))return!1;for(r in i={},e)if("$"!==r.charAt(0)&&!ce(e[r])){if(!pe(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!i.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t[r]!==te&&!ce(t[r]))return!1;return!0}if(!ue(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!pe(e[r],t[r]))return!1;return!0}}return!1}function T(){return ee.securityPolicy&&ee.securityPolicy.isActive||ee.querySelector&&!(!ee.querySelector("[ng-csp]")&&!ee.querySelector("[data-ng-csp]"))}function A(e,t,n){return e.concat(i.call(t,n))}function de(e,t){return i.call(e,t||0)}function ge(e,t){var n=2<arguments.length?de(arguments,2):[];return!ce(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(i.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function D(e,t){var n=t;return"string"==typeof e&&"$"===e.charAt(0)?n=te:h(t)?n="$WINDOW":t&&ee===t?n="$DOCUMENT":d(t)&&(n="$SCOPE"),n}function I(e,t){return void 0===e?te:JSON.stringify(e,D,t?"  ":null)}function R(e){return se(e)?JSON.parse(e):e}function j(e){if("function"==typeof e)e=!0;else if(e&&0!==e.length){var t=M(""+e);e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}function me(e){e=ne(e).clone();try{e.empty()}catch(n){}var t=ne("<div>").append(e).html();try{return 3===e[0].nodeType?M(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+M(t)})}catch(n){return M(t)}}function B(e){try{return decodeURIComponent(e)}catch(t){}}function L(e){var n,r,i={};return re((e||"").split("&"),function(e){if(e&&(n=e.split("="),q(r=B(n[0])))){var t=!q(n[1])||B(n[1]);i[r]?ue(i[r])?i[r].push(t):i[r]=[i[r],t]:i[r]=t}}),i}function H(e){var n=[];return re(e,function(e,t){ue(e)?re(e,function(e){n.push(V(t,!0)+(!0===e?"":"="+V(e,!0)))}):n.push(V(t,!0)+(!0===e?"":"="+V(e,!0)))}),n.length?n.join("&"):""}function W(e){return V(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function V(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}N=F<9?function(e){return(e=e.nodeName?e:e[0]).scopeName&&"HTML"!=e.scopeName?v(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var z=["ng-","data-ng-","ng:","x-ng-"];function Q(t,e){var r,i,n=[t],o={},a=["ng:app","ng-app","x-ng-app","data-ng-app"],s=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;function u(e){e&&n.push(e)}re(a,function(e){a[e]=!0,u(ee.getElementById(e)),e=e.replace(":","\\:"),t.querySelectorAll&&(re(t.querySelectorAll("."+e),u),re(t.querySelectorAll("."+e+"\\:"),u),re(t.querySelectorAll("["+e+"]"),u))}),re(n,function(t){if(!r){var e=" "+t.className+" ",n=s.exec(e);n?(r=t,i=(n[2]||"").replace(/\s+/g,",")):re(t.attributes,function(e){!r&&a[e.name]&&(r=t,i=e.value)})}}),r&&(o.strictDi=null!==function(e,t){var n,r,i=z.length;for(e=ne(e),r=0;r<i;++r)if(n=z[r]+t,se(n=e.attr(n)))return n;return null}(r,"strict-di"),e(r,i?[i]:[],o))}function X(n,r,i){ae(i)||(i={});i=ie({strictDi:!1},i);var t=function(){if((n=ne(n)).injector()){var e=n[0]===ee?"document":me(n);throw o("btstrpd","App Already Bootstrapped with this Element '{0}'",e)}(r=r||[]).unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.unshift("ng");var t=ut(r,i.strictDi);return t.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,r,i){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),t},e=/^NG_DEFER_BOOTSTRAP!/;if(m&&!e.test(m.name))return t();m.name=m.name.replace(e,""),l.resumeBootstrap=function(e){re(e,function(e){r.push(e)}),t()}}var G=/[A-Z]/g;function ve(e,n){return n=n||"_",e.replace(G,function(e,t){return(t?n:"")+e.toLowerCase()})}function $e(e,t,n){if(!e)throw o("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function K(e,t,n){return n&&ue(e)&&(e=e[e.length-1]),$e(ce(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Z(e,t){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid {0} name",t)}function J(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;s<a;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&ce(e)?ge(o,e):e}function Y(e){var t=e[0],n=e[e.length-1];if(t===n)return ne(t);var r=t,i=[r];do{if(!(r=r.nextSibling))break;i.push(r)}while(r!==n);return ne(i)}var ye={full:"1.3.0-beta.10",major:1,minor:3,dot:0,codeName:"excessive-clarification"};var we=Ie.cache={},be=Ie.expando="ng-"+(new Date).getTime(),_e=1,xe=m.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},Se=m.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)};Ie._data=function(e){return this.cache[e[this.expando]]||{}};var Ce=/([\:\-\_]+(.))/g,ke=/^moz([A-Z])/,Pe=b("jqLite");function Ee(e){return e.replace(Ce,function(e,t,n,r){return r?n.toUpperCase():n}).replace(ke,"Moz$1")}var Te=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Oe=/<|&#?\w+;/,Ae=/<([\w:]+)/,De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Me={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Fe(e){return!Oe.test(e)}function Ne(e,t){var n;return t=t||ee,(n=Te.exec(e))?[t.createElement(n[1])]:(n=function(e,t){var n,r,i,o,a=t.createDocumentFragment(),s=[];if(Fe(e))s.push(t.createTextNode(e));else{for(n=n||a.appendChild(t.createElement("div")),r=(Ae.exec(e)||["",""])[1].toLowerCase(),i=Me[r]||Me._default,n.innerHTML=i[1]+e.replace(De,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;s=A(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",re(s,function(e){a.appendChild(e)}),a}(e,t))?n.childNodes:[]}function Ie(e){if(e instanceof Ie)return e;if(se(e)&&(e=le(e)),!(this instanceof Ie)){if(se(e)&&"<"!=e.charAt(0))throw Pe("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ie(e)}se(e)?ze(this,Ne(e)):ze(this,e)}function Re(e){return e.cloneNode(!0)}function je(e){qe(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)je(n[t])}function Ue(n,e,t,r){if(q(r))throw Pe("offargs","jqLite#off() does not support the `selector` argument");var i=Be(n,"events");Be(n,"handle")&&(P(e)?re(i,function(e,t){Se(n,t,e),delete i[t]}):re(e.split(" "),function(e){P(t)?(Se(n,e,i[e]),delete i[e]):fe(i[e]||[],t)}))}function qe(e,t){var n=e[be],r=we[n];if(r){if(t)return void delete we[n].data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Ue(e)),delete we[n],e[be]=te}}function Be(e,t,n){var r=e[be],i=we[r||-1];if(!q(n))return i&&i[t];i||(e[be]=r=++_e,i=we[r]={}),i[t]=n}function Le(e,t,n){var r=Be(e,"data"),i=q(n),o=!i&&q(t),a=o&&!ae(t);if(r||a||Be(e,"data",r={}),i)r[t]=n;else{if(!o)return r;if(a)return r&&r[t];ie(r,t)}}function He(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function We(t,e){e&&t.setAttribute&&re(e.split(" "),function(e){t.setAttribute("class",le((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+le(e)+" "," ")))})}function Ve(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");re(t.split(" "),function(e){e=le(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",le(n))}}function ze(e,t){if(t){t=t.nodeName||!q(t.length)||h(t)?[t]:t;for(var n=0;n<t.length;n++)e.push(t[n])}}function Qe(e,t){return Xe(e,"$"+(t||"ngController")+"Controller")}function Xe(e,t,n){9==(e=ne(e))[0].nodeType&&(e=e.find("html"));for(var r=ue(t)?t:[t];e.length;){for(var i=e[0],o=0,a=r.length;o<a;o++)if((n=e.data(r[o]))!==te)return n;e=ne(i.parentNode||11===i.nodeType&&i.host)}}function Ge(e){for(var t=0,n=e.childNodes;t<n.length;t++)je(n[t]);for(;e.firstChild;)e.removeChild(e.firstChild)}Me.optgroup=Me.option,Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td;var Ke=Ie.prototype={ready:function(e){var t=!1;function n(){t||(t=!0,e())}"complete"===ee.readyState?setTimeout(n):(this.on("DOMContentLoaded",n),Ie(m).on("load",n))},toString:function(){var t=[];return re(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(e){return ne(0<=e?this[e]:this[this.length+e])},length:0,push:e,sort:[].sort,splice:[].splice},Ze={};re("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Ze[M(e)]=e});var Je={};function Ye(e,t){var n=Ze[t.toLowerCase()];return n&&Je[e.nodeName]&&n}function et(e){var t,n=typeof e;return"object"==n&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():t===te&&(t=e.$$hashKey=a()):t=e,n+":"+t}function tt(e){re(e,this.put,this)}re("input,select,option,textarea,button,form,details".split(","),function(e){Je[v(e)]=!0}),re({data:Le,inheritedData:Xe,scope:function(e){return ne(e).data("$scope")||Xe(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return ne(e).data("$isolateScope")||ne(e).data("$isolateScopeNoTemplate")},controller:Qe,injector:function(e){return Xe(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:He,css:function(e,t,n){var r;if(t=Ee(t),!q(n))return F<=8&&""===(r=e.currentStyle&&e.currentStyle[t])&&(r="auto"),r=r||e.style[t],F<=8&&(r=""===r?te:r),r;e.style[t]=n},attr:function(e,t,n){var r=M(t);if(Ze[r]){if(!q(n))return e[t]||(e.attributes.getNamedItem(t)||k).specified?r:te;n?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(q(n))e.setAttribute(t,n);else if(e.getAttribute){var i=e.getAttribute(t,2);return null===i?te:i}},prop:function(e,t,n){if(!q(n))return e[t];e[t]=n},text:function(){var r=[];return F<9?(r[1]="innerText",r[3]="nodeValue"):r[1]=r[3]="textContent",e.$dv="",e;function e(e,t){var n=r[e.nodeType];if(P(t))return n?e[n]:"";e[n]=t}}(),val:function(e,t){if(P(t)){if("SELECT"===N(e)&&e.multiple){var n=[];return re(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(P(t))return e.innerHTML;for(var n=0,r=e.childNodes;n<r.length;n++)je(r[n]);e.innerHTML=t},empty:Ge},function(u,e){Ie.prototype[e]=function(e,t){var n,r;if(u!==Ge&&(2==u.length&&u!==He&&u!==Qe?e:t)===te){if(ae(e)){for(n=0;n<this.length;n++)if(u===Le)u(this[n],e);else for(r in e)u(this[n],r,e[r]);return this}for(var i=u.$dv,o=i===te?Math.min(this.length,1):this.length,a=0;a<o;a++){var s=u(this[a],e,t);i=i?i+s:s}return i}for(n=0;n<this.length;n++)u(this[n],e,t);return this}}),re({removeData:qe,dealoc:je,on:function t(i,e,o,n){if(q(n))throw Pe("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var r,a,s,u=Be(i,"events"),c=Be(i,"handle");u||Be(i,"events",u={}),c||Be(i,"handle",(a=u,(s=function(t,e){if(t.preventDefault||(t.preventDefault=function(){t.returnValue=!1}),t.stopPropagation||(t.stopPropagation=function(){t.cancelBubble=!0}),t.target||(t.target=t.srcElement||ee),P(t.defaultPrevented)){var n=t.preventDefault;t.preventDefault=function(){t.defaultPrevented=!0,n.call(t)},t.defaultPrevented=!1}t.isDefaultPrevented=function(){return t.defaultPrevented||!1===t.returnValue},re(he(a[e||t.type]||[]),function(e){e.call(r,t)}),F<=8?(t.preventDefault=null,t.stopPropagation=null,t.isDefaultPrevented=null):(delete t.preventDefault,delete t.stopPropagation,delete t.isDefaultPrevented)}).elem=r=i,c=s)),re(e.split(" "),function(n){var e=u[n];if(!e){if("mouseenter"==n||"mouseleave"==n){var r=ee.body.contains||ee.body.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};u[n]=[];t(i,{mouseleave:"mouseout",mouseenter:"mouseover"}[n],function(e){var t=e.relatedTarget;t&&(t===this||r(this,t))||c(e,n)})}else xe(i,n,c),u[n]=[];e=u[n]}e.push(o)})},off:Ue,one:function(t,n,r){(t=ne(t)).on(n,function e(){t.off(n,r),t.off(n,e)}),t.on(n,r)},replaceWith:function(t,e){var n,r=t.parentNode;je(t),re(new Ie(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(e){var t=[];return re(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(t,e){re(new Ie(e),function(e){1!==t.nodeType&&11!==t.nodeType||t.appendChild(e)})},prepend:function(t,e){if(1===t.nodeType){var n=t.firstChild;re(new Ie(e),function(e){t.insertBefore(e,n)})}},wrap:function(e,t){t=ne(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){je(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,r=e.parentNode;re(new Ie(t),function(e){r.insertBefore(e,n.nextSibling),n=e})},addClass:Ve,removeClass:We,toggleClass:function(n,e,r){e&&re(e.split(" "),function(e){var t=r;P(t)&&(t=!He(n,e)),(t?Ve:We)(n,e)})},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Re,triggerHandler:function(t,e,n){var r=(Be(t,"events")||{})[e];n=n||[];var i=[{preventDefault:k,stopPropagation:k}];re(r,function(e){e.apply(t,i.concat(n))})}},function(o,e){Ie.prototype[e]=function(e,t,n){for(var r,i=0;i<this.length;i++)P(r)?q(r=o(this[i],e,t,n))&&(r=ne(r)):ze(r,o(this[i],e,t,n));return q(r)?r:this},Ie.prototype.bind=Ie.prototype.on,Ie.prototype.unbind=Ie.prototype.off}),tt.prototype={put:function(e,t){this[et(e)]=t},get:function(e){return this[et(e)]},remove:function(e){var t=this[e=et(e)];return delete this[e],t}};var nt=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,rt=/,/,it=/^\s*(_?)(\S+?)\1\s*$/,ot=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,at=b("$injector");function st(e,t,n){var r,i,o;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw se(n)&&n||(n=e.name||((o=e.toString().replace(ot,"").match(nt))?"function("+(o[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),at("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);re(e.toString().replace(ot,"").match(nt)[1].split(rt),function(e){e.replace(it,function(e,t,n){r.push(n)})})}e.$inject=r}}else ue(e)?(K(e[i=e.length-1],"fn"),r=e.slice(0,i)):K(e,"fn",!0);return r}function ut(e,l){l=!0===l;var i={},o="Provider",s=[],a=new tt,u={$provide:{provider:t(h),factory:t(p),service:t(function(e,t){return p(e,["$injector",function(e){return e.instantiate(t)}])}),value:t(function(e,t){return p(e,oe(t))}),constant:t(function(e,t){Z(e,"constant"),u[e]=t,n[e]=t}),decorator:function(e,t){var n=c.get(e+o),r=n.$get;n.$get=function(){var e=f.invoke(r,n);return f.invoke(t,null,{$delegate:e})}}}},c=u.$injector=d(u,function(){throw at("unpr","Unknown provider: {0}",s.join(" <- "))}),n={},f=n.$injector=d(n,function(e){var t=c.get(e+o);return f.invoke(t.$get,t,te,e)});return re(function r(e){var i,o=[];re(e,function(e){if(!a.get(e)){a.put(e,!0);try{se(e)?(i=$(e),o=o.concat(r(i.requires)).concat(i._runBlocks),t(i._invokeQueue),t(i._configBlocks)):ce(e)?o.push(c.invoke(e)):ue(e)?o.push(c.invoke(e)):K(e,"module")}catch(n){throw ue(e)&&(e=e[e.length-1]),n.message&&n.stack&&-1==n.stack.indexOf(n.message)&&(n=n.message+"\n"+n.stack),at("modulerr","Failed to instantiate module {0} due to:\n{1}",e,n.stack||n.message||n)}}function t(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=c.get(r[0]);i[r[1]].apply(i,r[2])}}});return o}(e),function(e){f.invoke(e||k)}),f;function t(n){return function(e,t){if(!ae(e))return n(e,t);re(e,y(n))}}function h(e,t){if(Z(e,"service"),(ce(t)||ue(t))&&(t=c.instantiate(t)),!t.$get)throw at("pget","Provider '{0}' must define $get factory method.",e);return u[e+o]=t}function p(e,t){return h(e,{$get:t})}function d(n,r){function c(e){if(n.hasOwnProperty(e)){if(n[e]===i)throw at("cdep","Circular dependency found: {0}",s.join(" <- "));return n[e]}try{return s.unshift(e),n[e]=i,n[e]=r(e)}catch(t){throw n[e]===i&&delete n[e],t}finally{s.shift()}}function a(e,t,n,r){"string"==typeof n&&(r=n,n=null);var i,o,a,s=[],u=st(e,l,r);for(o=0,i=u.length;o<i;o++){if("string"!=typeof(a=u[o]))throw at("itkn","Incorrect injection token! Expected service name as string, got {0}",a);s.push(n&&n.hasOwnProperty(a)?n[a]:c(a))}return e.$inject||(e=e[i]),e.apply(t,s)}return{invoke:a,instantiate:function(e,t,n){var r,i,o=function(){};return o.prototype=(ue(e)?e[e.length-1]:e).prototype,ae(i=a(e,r=new o,t,n))||ce(i)?i:r},get:c,annotate:st,has:function(e){return u.hasOwnProperty(e+o)||n.hasOwnProperty(e)}}}}function ct(){var n=!0;this.disableAutoScrolling=function(){n=!1},this.$get=["$window","$location","$rootScope",function(i,o,e){var a=i.document;function t(){var e,t,n,r=o.hash();r?(e=a.getElementById(r))?e.scrollIntoView():(t=a.getElementsByName(r),n=null,re(t,function(e){n||"a"!==M(e.nodeName)||(n=e)}),(e=n)?e.scrollIntoView():"top"===r&&i.scrollTo(0,0)):i.scrollTo(0,0)}return n&&e.$watch(function(){return o.hash()},function(){e.$evalAsync(t)}),t}]}ut.$$annotate=st;var lt=b("$animate"),ft=["$provide",function(r){this.$$selectors={},this.register=function(e,t){var n=e+"-animation";if(e&&"."!=e.charAt(0))throw lt("notcsel","Expecting class selector starting with '.' got '{0}'.",e);this.$$selectors[e.substr(1)]=n,r.factory(n,t)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(e,t){function i(e){e&&t(e)}return{enter:function(e,t,n,r){n?n.after(e):t.prepend(e),i(r)},leave:function(e,t){e.remove(),i(t)},move:function(e,t,n,r){this.enter(e,t,n,r)},addClass:function(e,t,n){t=se(t)?t:ue(t)?t.join(" "):"",re(e,function(e){Ve(e,t)}),i(n)},removeClass:function(e,t,n){t=se(t)?t:ue(t)?t.join(" "):"",re(e,function(e){We(e,t)}),i(n)},setClass:function(e,t,n,r){re(e,function(e){Ve(e,t),We(e,n)}),i(r)},enabled:k}}]}];function ht(){this.$get=["$$rAF","$timeout",function(t,n){return t.supported?function(e){return t(e)}:function(e){return n(e,0,!1)}}]}function pt(n,e,s,r){var i=this,u=e[0],o=n.location,a=n.history,c=n.setTimeout,t=n.clearTimeout,l={};i.isMock=!1;var f=0,h=[];function p(e){try{e.apply(null,de(arguments,1))}finally{if(0===--f)for(;h.length;)try{h.pop()()}catch(t){s.error(t)}}}i.$$completeOutstandingRequest=p,i.$$incOutstandingRequestCount=function(){f++},i.notifyWhenNoOutstandingRequests=function(e){re(g,function(e){e()}),0===f?e():h.push(e)};var d,g=[];i.addPollFn=function(t){var n,r;return P(d)&&(n=100,r=c,function e(){re(g,function(e){e()}),d=r(e,n)}()),g.push(t),t};var m=o.href,v=e.find("base"),$=null;i.url=function(e,t){if(o!==n.location&&(o=n.location),a!==n.history&&(a=n.history),e){if(m==e)return;return m=e,r.history?t?a.replaceState(null,"",e):(a.pushState(null,"",e),v.attr("href",v.attr("href"))):($=e,t?o.replace(e):o.href=e),i}return $||o.href.replace(/%27/g,"'")};var y=[],w=!1;function b(){$=null,m!=i.url()&&(m=i.url(),re(y,function(e){e(i.url())}))}i.onUrlChange=function(e){return w||(r.history&&ne(n).on("popstate",b),r.hashchange?ne(n).on("hashchange",b):i.addPollFn(b),w=!0),y.push(e),e},i.baseHref=function(){var e=v.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var _={},x="",S=i.baseHref();i.cookies=function(e,t){var n,r,i,o,a;if(!e){if(u.cookie!==x)for(r=(x=u.cookie).split("; "),_={},o=0;o<r.length;o++)0<(a=(i=r[o]).indexOf("="))&&(e=unescape(i.substring(0,a)),_[e]===te&&(_[e]=unescape(i.substring(a+1))));return _}t===te?u.cookie=escape(e)+"=;path="+S+";expires=Thu, 01 Jan 1970 00:00:00 GMT":se(t)&&4096<(n=(u.cookie=escape(e)+"="+escape(t)+";path="+S).length+1)&&s.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+n+" > 4096 bytes)!")},i.defer=function(e,t){var n;return f++,n=c(function(){delete l[n],p(e)},t||0),l[n]=!0,n},i.defer.cancel=function(e){return!!l[e]&&(delete l[e],t(e),p(k),!0)}}function dt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new pt(e,r,t,n)}]}function gt(){this.$get=function(){var f={};function e(e,t){if(e in f)throw b("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var n=0,r=ie({},t,{id:e}),i={},o=t&&t.capacity||Number.MAX_VALUE,a={},s=null,u=null;return f[e]={put:function(e,t){o<Number.MAX_VALUE&&c(a[e]||(a[e]={key:e}));if(!P(t))return e in i||n++,i[e]=t,o<n&&this.remove(u.key),t},get:function(e){if(o<Number.MAX_VALUE){var t=a[e];if(!t)return;c(t)}return i[e]},remove:function(e){if(o<Number.MAX_VALUE){var t=a[e];if(!t)return;t==s&&(s=t.p),t==u&&(u=t.n),l(t.n,t.p),delete a[e]}delete i[e],n--},removeAll:function(){i={},n=0,a={},s=u=null},destroy:function(){a=r=i=null,delete f[e]},info:function(){return ie({},r,{size:n})}};function c(e){e!=s&&(u?u==e&&(u=e.n):u=e,l(e.n,e.p),l(e,s),(s=e).n=null)}function l(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}}return e.info=function(){var n={};return re(f,function(e,t){n[t]=e.info()}),n},e.get=function(e){return f[e]},e}}function mt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var vt=b("$compile");function $t(n,t){var d={},g="Directive",A=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,D=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,c=function(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),l=/^(on[a-z]+|formaction)$/;this.directive=function e(s,t){return Z(s,"directive"),se(s)?($e(t,"directiveFactory"),d.hasOwnProperty(s)||(d[s]=[],n.factory(s+g,["$injector","$exceptionHandler",function(i,o){var a=[];return re(d[s],function(e,t){try{var n=i.invoke(e);ce(n)?n={compile:oe(n)}:!n.compile&&n.link&&(n.compile=oe(n.link)),n.priority=n.priority||0,n.index=t,n.name=n.name||s,n.require=n.require||n.controller&&n.name,n.restrict=n.restrict||"A",a.push(n)}catch(r){o(r)}}),a}])),d[s].push(t)):re(s,y(e)),this},this.aHrefSanitizationWhitelist=function(e){return q(e)?(t.aHrefSanitizationWhitelist(e),this):t.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return q(e)?(t.imgSrcSanitizationWhitelist(e),this):t.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(p,I,R,e,t,j,U,o,n,s,i,u){var q=function(e,t){this.$$element=e,this.$attr=t||{}};q.prototype={$normalize:wt,$addClass:function(e){e&&0<e.length&&i.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&i.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=bt(e,t),r=bt(t,e);0===n.length?i.removeClass(this.$$element,r):0===r.length?i.addClass(this.$$element,n):i.setClass(this.$$element,n,r)},$set:function(e,n,t,r){var i,o=Ye(this.$$element[0],e);o&&(this.$$element.prop(e,n),r=o),this[e]=n,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=ve(e,"-")),("A"===(i=N(this.$$element))&&"href"===e||"IMG"===i&&"src"===e)&&(this[e]=n=u(n,"src"===e)),!1!==t&&(null===n||n===te?this.$$element.removeAttr(r):this.$$element.attr(r,n));var a=this.$$observers;a&&re(a[e],function(e){try{e(n)}catch(t){R(t)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers={}),i=r[e]||(r[e]=[]);return i.push(t),o.$evalAsync(function(){i.$$inter||t(n[e])}),function(){fe(i,t)}}};var r=I.startSymbol(),a=I.endSymbol(),B="{{"==r||"}}"==a?f:function(e){return e.replace(/\{\{/g,r).replace(/}}/g,a)},S=/^ngAttr[A-Z]/;return L;function L(s,e,t,n,r){s instanceof ne||(s=ne(s)),re(s,function(e,t){3==e.nodeType&&e.nodeValue.match(/\S+/)&&(s[t]=e=ne(e).wrap("<span></span>").parent()[0])});var u=E(s,e,s,t,n,r);return H(s,"ng-scope"),function(e,t,n){$e(e,"scope");var r=t?Ke.clone.call(s):s;re(n,function(e,t){r.data("$"+t+"Controller",e)});for(var i=0,o=r.length;i<o;i++){var a=r[i].nodeType;1!==a&&9!==a||r.eq(i).data("$scope",e)}return t&&t(r,e),u&&u(e,r,r),r}}function H(e,t){try{e.addClass(t)}catch(n){}}function E(e,g,t,n,r,i){for(var o,a,s,u,c,l,m=[],f=0;f<e.length;f++)o=new q,(s=(a=W(e[f],[],o,0===f?n:te,r)).length?O(a,e[f],o,g,t,null,[],[],i):null)&&s.scope&&H(ne(e[f]),"ng-scope"),c=s&&s.terminal||!(u=e[f].childNodes)||!u.length?null:E(u,s?s.transclude:g),m.push(s,c),l=l||s||c,i=null;return l?function(e,t,n,r){var i,o,a,s,u,c,l,f,h,p=t.length,d=new Array(p);for(l=0;l<p;l++)d[l]=t[l];for(h=l=0,f=m.length;l<f;h++)a=d[h],i=m[l++],o=m[l++],s=ne(a),i?(i.scope?(u=e.$new(),s.data("$scope",u)):u=e,c=i.transclude,i(o,u,a,n,c||!r&&g?T(e,c||g):r)):o&&o(e,a.childNodes,te,r)}:null}function T(o,a){return function(e,t,n){var r=!1;e||(r=(e=o.$new()).$$transcluded=!0);var i=a(e,t,n);return r&&i.on("$destroy",ge(e,e.$destroy)),i}}function W(e,t,n,r,i){var o,a,s,u,c,l=e.nodeType,f=n.$attr;switch(l){case 1:C(t,wt(N(e).toLowerCase()),"E",r,i);for(var h,p,d,g,m,v=e.attributes,$=0,y=v&&v.length;$<y;$++){var w=!1,b=!1;if(h=v[$],!F||8<=F||h.specified){g=wt(p=h.name),S.test(g)&&(p=ve(g.substr(6),"-"));var _=g.replace(/(Start|End)$/,"");g===_+"Start"&&(b=(w=p).substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),f[d=wt(p.toLowerCase())]=p,n[d]=m=le(h.value),Ye(e,d)&&(n[d]=!0),P(e,t,m,d),C(t,d,"A",r,i,w,b)}}if(se(a=e.className)&&""!==a)for(;o=D.exec(a);)C(t,d=wt(o[2]),"C",r,i)&&(n[d]=le(o[3])),a=a.substr(o.index+o[0].length);break;case 3:s=t,u=e.nodeValue,(c=I(u,!0))&&s.push({priority:0,compile:oe(function(e,t){var n=t.parent(),r=n.data("$binding")||[];c=I(u),r.push(c),H(n.data("$binding",r),"ng-binding"),e.$watch(c,function(e){t[0].nodeValue=e})})});break;case 8:try{(o=A.exec(e.nodeValue))&&C(t,d=wt(o[1]),"M",r,i)&&(n[d]=le(o[2]))}catch(x){}}return t.sort(k),t}function V(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw vt("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1==e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(0<i)}else r.push(e);return ne(r)}function z(o,a,s){return function(e,t,n,r,i){return t=V(t[0],a,s),o(e,t,n,r,i)}}function O(e,v,$,t,n,r,y,w,i){i=i||{};for(var o,a,s,u,c,l,f=-Number.MAX_VALUE,b=i.controllerDirectives,_=i.newIsolateScopeDirective,x=i.templateDirective,h=i.nonTlbTranscludeDirective,p=!1,S=i.hasElementTranscludeDirective,d=$.$$element=ne(v),g=r,m=t,C=0,k=e.length;C<k;C++){var P=(a=e[C]).$$start,E=a.$$end;if(P&&(d=V(v,P,E)),u=te,f>a.priority)break;if((l=a.scope)&&(o=o||a,a.templateUrl||(K("new/isolated scope",_,a,d),ae(l)&&(_=a))),s=a.name,!a.templateUrl&&a.controller&&(l=a.controller,K("'"+s+"' controller",(b=b||{})[s],a,d),b[s]=a),(l=a.transclude)&&(p=!0,a.$$tlb||(K("transclusion",h,a,d),h=a),"element"==l?(S=!0,f=a.priority,u=V(v,P,E),d=$.$$element=ne(ee.createComment(" "+s+": "+$[s]+" ")),v=d[0],J(n,ne(de(u)),v),m=L(u,t,f,g&&g.name,{nonTlbTranscludeDirective:h})):(u=ne(Re(v)).contents(),d.empty(),m=L(u,t))),a.template)if(K("template",x,a,d),l=ce((x=a).template)?a.template(d,$):a.template,l=B(l),a.replace){if(g=a,u=Fe(l)?[]:ne(Z(a.type,le(l))),v=u[0],1!=u.length||1!==v.nodeType)throw vt("tplrt","Template for directive '{0}' must have exactly one root element. {1}",s,"");J(n,d,v);var T={$attr:{}},O=W(v,[],T),A=e.splice(C+1,e.length-(C+1));_&&Q(O),e=e.concat(O).concat(A),X($,T),k=e.length}else d.html(l);if(a.templateUrl)K("template",x,a,d),(x=a).replace&&(g=a),F=G(e.splice(C,e.length-C),d,$,n,m,y,w,{controllerDirectives:b,newIsolateScopeDirective:_,templateDirective:x,nonTlbTranscludeDirective:h}),k=e.length;else if(a.compile)try{ce(c=a.compile(d,$,m))?D(null,c,P,E):c&&D(c.pre,c.post,P,E)}catch(N){R(N,me(d))}a.terminal&&(F.terminal=!0,f=Math.max(f,a.priority))}return F.scope=o&&!0===o.scope,F.transclude=p&&m,i.hasElementTranscludeDirective=S,F;function D(e,t,n,r){e&&(n&&(e=z(e,n,r)),e.require=a.require,e.directiveName=s,(_===a||a.$$isolateScope)&&(e=Y(e,{isolateScope:!0})),y.push(e)),t&&(n&&(t=z(t,n,r)),t.require=a.require,t.directiveName=s,(_===a||a.$$isolateScope)&&(t=Y(t,{isolateScope:!0})),w.push(t))}function M(t,e,n,r){var i,o="data",a=!1;if(se(e)){for(;"^"==(i=e.charAt(0))||"?"==i;)e=e.substr(1),"^"==i&&(o="inheritedData"),a=a||"?"==i;if(i=null,r&&"data"===o&&(i=r[e]),!(i=i||n[o]("$"+e+"Controller"))&&!a)throw vt("ctreq","Controller '{0}', required by directive '{1}', can't be found!",e,t);return i}return ue(e)&&(i=[],re(e,function(e){i.push(M(t,e,n,r))})),i}function F(e,l,t,n,r){var f,i,o,a,s,u,h,c,p={};if(f=v===t?$:he($,new q(ne(t),$.$attr)),i=f.$$element,_){var d=/^\s*([@=&])(\??)\s*(\w*)\s*$/,g=ne(t);h=l.$new(!0),!x||x!==_&&x!==_.$$originalDirective?g.data("$isolateScopeNoTemplate",h):g.data("$isolateScope",h),H(g,"ng-isolate-scope"),re(_.scope,function(e,t){var n,r,i,o,a=e.match(d)||[],s=a[3]||t,u="?"==a[2],c=a[1];switch(h.$$isolateBindings[t]=c+s,c){case"@":f.$observe(s,function(e){h[t]=e}),f.$$observers[s].$$scope=l,f[s]&&(h[t]=I(f[s])(l));break;case"=":if(u&&!f[s])return;r=j(f[s]),o=r.literal?pe:function(e,t){return e===t},i=r.assign||function(){throw n=h[t]=r(l),vt("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",f[s],_.name)},n=h[t]=r(l),h.$watch(function(){var e=r(l);return o(e,h[t])||(o(e,n)?i(l,e=h[t]):h[t]=e),r.$$unwatch,n=e},null,r.literal);break;case"&":r=j(f[s]),h[t]=function(e){return r(l,e)};break;default:throw vt("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",_.name,t,e)}})}for(c=r&&function(e,t){var n;arguments.length<2&&(t=e,e=te);S&&(n=p);return r(e,t,n)},b&&re(b,function(e){var t,n={$scope:e===_||e.$$isolateScope?h:l,$element:i,$attrs:f,$transclude:c};"@"==(u=e.controller)&&(u=f[e.name]),t=U(u,n),p[e.name]=t,S||i.data("$"+e.name+"Controller",t),e.controllerAs&&(n.$scope[e.controllerAs]=t)}),o=0,a=y.length;o<a;o++)try{(s=y[o])(s.isolateScope?h:l,i,f,s.require&&M(s.directiveName,s.require,i,p),c)}catch(N){R(N,me(i))}var m=l;for(_&&(_.template||null===_.templateUrl)&&(m=h),e&&e(m,t.childNodes,te,r),o=w.length-1;0<=o;o--)try{(s=w[o])(s.isolateScope?h:l,i,f,s.require&&M(s.directiveName,s.require,i,p),c)}catch(N){R(N,me(i))}}}function Q(e){for(var t=0,n=e.length;t<n;t++)e[t]=w(e[t],{$$isolateScope:!0})}function C(e,t,n,r,i,o,a){if(t===i)return null;var s=null;if(d.hasOwnProperty(t))for(var u,c=p.get(t+g),l=0,f=c.length;l<f;l++)try{u=c[l],(r===te||r>u.priority)&&-1!=u.restrict.indexOf(n)&&(o&&(u=w(u,{$$start:o,$$end:a})),e.push(u),s=u)}catch(h){R(h)}return s}function X(n,r){var i=r.$attr,o=n.$attr,a=n.$$element;re(n,function(e,t){"$"!=t.charAt(0)&&(r[t]&&r[t]!==e&&(e+=("style"===t?";":" ")+r[t]),n.$set(t,e,!0,i[t]))}),re(r,function(e,t){"class"==t?(H(a,e),n["class"]=(n["class"]?n["class"]+" ":"")+e):"style"==t?(a.attr("style",a.attr("style")+";"+e),n.style=(n.style?n.style+";":"")+e):"$"==t.charAt(0)||n.hasOwnProperty(t)||(n[t]=e,o[t]=i[t])})}function G(h,p,d,g,m,v,$,y){var w,b,_=[],x=p[0],S=h.shift(),C=ie({},S,{templateUrl:null,transclude:null,replace:null,$$originalDirective:S}),k=ce(S.templateUrl)?S.templateUrl(p,d):S.templateUrl,P=S.type;return p.empty(),e.get(s.getTrustedResourceUrl(k),{cache:t}).success(function(e){var n,t,r,i;if(e=B(e),S.replace){if(r=Fe(e)?[]:ne(Z(P,le(e))),n=r[0],1!=r.length||1!==n.nodeType)throw vt("tplrt","Template for directive '{0}' must have exactly one root element. {1}",S.name,k);t={$attr:{}},J(g,p,n);var o=W(n,[],t);ae(S.scope)&&Q(o),h=o.concat(h),X(d,t)}else n=x,p.html(e);for(h.unshift(C),w=O(h,n,d,m,p,S,v,$,y),re(g,function(e,t){e==n&&(g[t]=p[0])}),b=E(p[0].childNodes,m);_.length;){var a=_.shift(),s=_.shift(),u=_.shift(),c=_.shift(),l=p[0];if(s!==x){var f=s.className;y.hasElementTranscludeDirective&&S.replace||(l=Re(n)),J(u,ne(s),l),H(ne(l),f)}i=w.transclude?T(a,w.transclude):c,w(b,a,l,g,i)}_=null}).error(function(e,t,n,r){throw vt("tpload","Failed to load template: {0}",r.url)}),function(e,t,n,r,i){_?(_.push(t),_.push(n),_.push(r),_.push(i)):w(b,t,n,r,i)}}function k(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function K(e,t,n,r){if(t)throw vt("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,me(r))}function Z(e,t){switch(e=M(e||"html")){case"svg":case"math":var n=ee.createElement("div");return n.innerHTML="<"+e+">"+t+"</"+e+">",n.childNodes[0].childNodes;default:return t}}function P(i,e,t,o){var a=I(t,!0);if(a){if("multiple"===o&&"SELECT"===N(i))throw vt("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",me(i));e.push({priority:100,compile:function(){return{pre:function(e,t,n){var r=n.$$observers||(n.$$observers={});if(l.test(o))throw vt("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");(a=I(n[o],!0,function(e,t){if("srcdoc"==t)return s.HTML;var n=N(e);return"xlinkHref"==t||"FORM"==n&&"action"==t||"IMG"!=n&&("src"==t||"ngSrc"==t)?s.RESOURCE_URL:void 0}(i,o),c[o]))&&(n[o]=a(e),(r[o]||(r[o]=[])).$$inter=!0,(n.$$observers&&n.$$observers[o].$$scope||e).$watch(a,function(e,t){"class"===o&&e!=t?n.$updateClass(e,t):n.$set(o,e)}))}}}})}}function J(e,t,n){var r,i,o=t[0],a=t.length,s=o.parentNode;if(e)for(r=0,i=e.length;r<i;r++)if(e[r]==o){e[r++]=n;for(var u=r,c=u+a-1,l=e.length;u<l;u++,c++)c<l?e[u]=e[c]:delete e[u];e.length-=a-1;break}s&&s.replaceChild(n,o);var f=ee.createDocumentFragment();f.appendChild(o),n[ne.expando]=o[ne.expando];for(var h=1,p=t.length;h<p;h++){var d=t[h];ne(d).remove(),f.appendChild(d),delete t[h]}t[0]=n,t.length=1}function Y(e,t){return ie(function(){return e.apply(null,arguments)},e,t)}}]}$t.$inject=["$provide","$$sanitizeUriProvider"];var yt=/^(x[\:\-_]|data[\:\-_])/i;function wt(e){return Ee(e.replace(yt,""))}function bt(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(0<n.length?" ":"")+a}return n}function _t(){var u={},c=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,t){Z(e,"controller"),ae(e)?ie(u,e):u[e]=t},this.$get=["$injector","$window",function(a,s){return function(e,t){var n,r,i,o;if(se(e)&&(i=(r=e.match(c))[1],o=r[3],K(e=u.hasOwnProperty(i)?u[i]:J(t.$scope,i,!0)||J(s,i,!0),i,!0)),n=a.instantiate(e,t,i),o){if(!t||"object"!=typeof t.$scope)throw b("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i||e.name,o);t.$scope[o]=n}return n}}]}function xt(){this.$get=["$window",function(e){return ne(e.document)}]}function St(){this.$get=["$log",function(n){return function(e,t){n.error.apply(n,arguments)}}]}function Ct(e){var t,n,r,i={};return e&&re(e.split("\n"),function(e){r=e.indexOf(":"),t=M(le(e.substr(0,r))),n=le(e.substr(r+1)),t&&(i[t]?i[t]+=", "+n:i[t]=n)}),i}function kt(t){var n=ae(t)?t:te;return function(e){return n||(n=Ct(t)),e?n[M(e)]||null:n}}function Pt(t,n,e){return ce(e)?e(t,n):(re(e,function(e){t=e(t,n)}),t)}function Et(e){return 200<=e&&e<300}function Tt(){var t=/^\s*(\[|\{[^\{])/,n=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,e={"Content-Type":"application/json;charset=utf-8"},m=this.defaults={transformResponse:[function(e){return se(e)&&(e=e.replace(r,""),t.test(e)&&n.test(e)&&(e=R(e))),e}],transformRequest:[function(e){return ae(e)&&(n=e,"[object File]"!==s.call(n))&&(t=e,"[object Blob]"!==s.call(t))?I(e):e;var t,n}],headers:{common:{Accept:"application/json, text/plain, */*"},post:E(e),put:E(e),patch:E(e)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},i=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(l,c,e,f,h,t){var p=e("$http"),d=[];function g(e){var n={method:"get",transformRequest:m.transformRequest,transformResponse:m.transformResponse},r=function(e){var t,n,r,i=m.headers,o=ie({},e.headers);a(i=ie({},i.common,i[M(e.method)])),a(o);e:for(t in i){for(r in n=M(t),o)if(M(r)===n)continue e;o[t]=i[t]}return o;function a(n){var r;re(n,function(e,t){ce(e)&&(null!=(r=e())?n[t]=r:delete n[t])})}}(e);ie(n,e),n.headers=r,n.method=v(n.method);var t=Cn(n.url)?c.cookies()[n.xsrfCookieName||m.xsrfCookieName]:te;t&&(r[n.xsrfHeaderName||m.xsrfHeaderName]=t);var i=[function(e){r=e.headers;var t=Pt(e.data,kt(r),e.transformRequest);return P(e.data)&&re(r,function(e,t){"content-type"===M(t)&&delete r[t]}),P(e.withCredentials)&&!P(m.withCredentials)&&(e.withCredentials=m.withCredentials),function(i,e,t){var o,n,a=h.defer(),r=a.promise,s=function(e,t){if(!t)return e;var n=[];return function(e,t,n){for(var r=U(e),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i])}(t,function(e,t){null===e||P(e)||(ue(e)||(e=[e]),re(e,function(e){ae(e)&&(e=I(e)),n.push(V(t)+"="+V(e))}))}),0<n.length&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}(i.url,i.params);if(g.pendingRequests.push(i),r.then(c,c),(i.cache||m.cache)&&!1!==i.cache&&"GET"==i.method&&(o=ae(i.cache)?i.cache:ae(m.cache)?m.cache:p),o)if(q(n=o.get(s))){if(n.then)return n.then(c,c),n;ue(n)?u(n[1],n[0],E(n[2]),n[3]):u(n,200,{},"OK")}else o.put(s,r);return P(n)&&l(i.method,s,e,function(e,t,n,r){o&&(Et(e)?o.put(s,[e,t,Ct(n),r]):o.remove(s)),u(t,e,n,r),f.$$phase||f.$apply()},t,i.timeout,i.withCredentials,i.responseType),r;function u(e,t,n,r){(Et(t=Math.max(t,0))?a.resolve:a.reject)({data:e,status:t,headers:kt(n),config:i,statusText:r})}function c(){var e=C(g.pendingRequests,i);-1!==e&&g.pendingRequests.splice(e,1)}}(e,t,r).then(u,u)},te],o=h.when(n);for(re(d,function(e){(e.request||e.requestError)&&i.unshift(e.request,e.requestError),(e.response||e.responseError)&&i.push(e.response,e.responseError)});i.length;){var a=i.shift(),s=i.shift();o=o.then(a,s)}return o.success=function(t){return o.then(function(e){t(e.data,e.status,e.headers,n)}),o},o.error=function(t){return o.then(null,function(e){t(e.data,e.status,e.headers,n)}),o},o;function u(e){var t=ie({},e,{data:Pt(e.data,e.headers,n.transformResponse)});return Et(e.status)?t:h.reject(t)}}return re(i,function(e){d.unshift(se(e)?t.get(e):t.invoke(e))}),g.pendingRequests=[],function(e){re(arguments,function(n){g[n]=function(e,t){return g(ie(t||{},{method:n,url:e}))}})}("get","delete","head","jsonp"),function(e){re(arguments,function(r){g[r]=function(e,t,n){return g(ie(n||{},{method:r,url:e,data:t}))}})}("post","put"),g.defaults=m,g}]}function Ot(e){if(F<=8&&(!e.match(/^(get|post|head|put|delete|options)$/i)||!m.XMLHttpRequest))return new m.ActiveXObject("Microsoft.XMLHTTP");if(m.XMLHttpRequest)return new m.XMLHttpRequest;throw b("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function At(){this.$get=["$browser","$window","$document",function(e,t,n){return _=Ot,x=(b=e).defer,S=t.angular.callbacks,C=n[0],function(e,o,t,n,r,i,a,s){var u,c,l,f,h,p;if(b.$$incOutstandingRequestCount(),o=o||b.url(),"jsonp"==M(e)){var d="_"+(S.counter++).toString(36);S[d]=function(e){S[d].data=e,S[d].called=!0};var g=(c=o.replace("JSON_CALLBACK","angular.callbacks."+d),l=d,f=function(e,t){y(n,e,S[d].data,"",t),S[d]=k},h=C.createElement("script"),p=null,h.type="text/javascript",h.src=c,h.async=!0,xe(h,"load",p=function(e){Se(h,"load",p),Se(h,"error",p),C.body.removeChild(h),h=null;var t=-1,n="unknown";e&&("load"!==e.type||S[l].called||(e={type:"error"}),n=e.type,t="error"===e.type?404:200),f&&f(t,n)}),xe(h,"error",p),C.body.appendChild(h),p)}else{var m=_(e);if(m.open(e,o,!0),re(r,function(e,t){q(e)&&m.setRequestHeader(t,e)}),m.onreadystatechange=function(){if(m&&4==m.readyState){var e=null,t=null;-1!==u&&(e=m.getAllResponseHeaders(),t="response"in m?m.response:m.responseText),y(n,u||m.status,t,e,m.statusText||"")}},a&&(m.withCredentials=!0),s)try{m.responseType=s}catch(w){if("json"!==s)throw w}m.send(t||null)}if(0<i)var v=x($,i);else i&&i.then&&i.then($);function $(){u=-1,g&&g(),m&&m.abort()}function y(e,t,n,r,i){v&&x.cancel(v),g=m=null,0===t&&(t=n?200:"file"==Sn(o).protocol?404:0),e(t=1223===t?204:t,n,r,i=i||""),b.$$completeOutstandingRequest(k)}};var b,_,x,S,C}]}var Dt=b("$interpolate");function Mt(){var C="{{",k="}}";this.startSymbol=function(e){return e?(C=e,this):C},this.endSymbol=function(e){return e?(k=e,this):k},this.$get=["$parse","$exceptionHandler","$sce",function(c,_,x){var l=C.length,f=k.length,h=new RegExp(C.replace(/./g,e),"g"),S=new RegExp(k.replace(/./g,e),"g");function e(e){return"\\\\\\"+e}function t(p,t,d,g){g=!!g;for(var n,r,i,o=0,m=[],v=[],$=[],a=p.length,s=!1,u=!1,y=[],w={values:{},results:{}};o<a;){if(-1==(n=p.indexOf(C,o))||-1==(r=p.indexOf(k,n+l))){o!==a&&(u=!0,m.push(p.substring(o)));break}o!==n&&(u=!0),m.push(p.substring(o,n)),i=p.substring(n+l,r),v.push(i),$.push(c(i)),o=r+f,s=!0}if(re(m,function(e,t){m[t]=m[t].replace(h,C).replace(S,k)}),m.length===v.length&&m.push(""),d&&s&&(u||1<v.length))throw Dt("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",p);if(!t||s){y.length=m.length+v.length;var b=function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=I(e)}return e};return ie(function e(t){var n,r,i=t&&t.$id||"notAScope",o=w.values[i],a=w.results[i],s=0,u=v.length,c=new Array(u),l=a===te;o||(o=[],l=!0,t&&t.$on&&t.$on("$destroy",function(){w.values[i]=null,w.results[i]=null}));try{for(e.$$unwatch=!0;s<u;s++){if(r=$[s](t),n=r=d?x.getTrusted(d,r):x.valueOf(r),g&&P(n))return void(e.$$unwatch=te);(n=b(n))!==o[s]&&(l=!0),c[s]=n,e.$$unwatch=e.$$unwatch&&$[s].$$unwatch}l&&(w.values[i]=c,w.results[i]=a=function(e){for(var t=0,n=v.length;t<n;t++)y[2*t]=m[t],y[2*t+1]=e[t];return y[2*n]=m[n],y.join("")}(c))}catch(h){var f=Dt("interr","Can't interpolate: {0}\n{1}",p,h.toString());_(f)}return a},{exp:p,separators:m,expressions:v})}}return t.startSymbol=function(){return C},t.endSymbol=function(){return k},t}]}function Ft(){this.$get=["$rootScope","$window","$q",function(l,f,h){var p={};function e(e,t,n,r){var i=f.setInterval,o=f.clearInterval,a=h.defer(),s=a.promise,u=0,c=q(r)&&!r;return n=q(n)?n:0,s.then(null,null,e),s.$$intervalId=i(function(){a.notify(u++),0<n&&n<=u&&(a.resolve(u),o(s.$$intervalId),delete p[s.$$intervalId]),c||l.$apply()},t),p[s.$$intervalId]=a,s}return e.cancel=function(e){return!!(e&&e.$$intervalId in p)&&(p[e.$$intervalId].reject("canceled"),clearInterval(e.$$intervalId),delete p[e.$$intervalId],!0)},e}]}function Nt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}var It=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Rt={http:80,https:443,ftp:21},jt=b("$location");function Ut(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=W(t[n]);return t.join("/")}function qt(e,t,n){var r=Sn(e,n);t.$$protocol=r.protocol,t.$$host=r.hostname,t.$$port=_(r.port)||Rt[r.protocol]||null}function Bt(e,t,n){var r="/"!==e.charAt(0);r&&(e="/"+e);var i=Sn(e,n);t.$$path=decodeURIComponent(r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=L(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Lt(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function Ht(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Wt(e){return e.substr(0,Ht(e).lastIndexOf("/")+1)}function Vt(r,i){this.$$html5=!0,i=i||"";var o=Wt(r);qt(r,this,r),this.$$parse=function(e){var t=Lt(o,e);if(!se(t))throw jt("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,o);Bt(t,this,r),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=H(this.$$search),t=this.$$hash?"#"+W(this.$$hash):"";this.$$url=Ut(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=o+this.$$url.substr(1)},this.$$rewrite=function(e){var t,n;return(t=Lt(r,e))!==te?(t=Lt(i,n=t))!==te?o+(Lt("/",t)||t):r+n:(t=Lt(o,e))!==te?o+t:o==e+"/"?o:void 0}}function zt(r,i){var o=Wt(r);qt(r,this,r),this.$$parse=function(e){var t=Lt(r,e)||Lt(o,e),n="#"==t.charAt(0)?Lt(i,t):this.$$html5?t:"";if(!se(n))throw jt("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',e,i);Bt(n,this,r),this.$$path=function(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;0===t.indexOf(n)&&(t=t.replace(n,""));if(i.exec(t))return e;return(r=i.exec(e))?r[1]:e}(this.$$path,n,r),this.$$compose()},this.$$compose=function(){var e=H(this.$$search),t=this.$$hash?"#"+W(this.$$hash):"";this.$$url=Ut(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+(this.$$url?i+this.$$url:"")},this.$$rewrite=function(e){if(Ht(r)==Ht(e))return e}}function Qt(n,r){this.$$html5=!0,zt.apply(this,arguments);var i=Wt(n);this.$$rewrite=function(e){var t;return n==Ht(e)?e:(t=Lt(i,e))?n+r+t:i===e+"/"?i:void 0},this.$$compose=function(){var e=H(this.$$search),t=this.$$hash?"#"+W(this.$$hash):"";this.$$url=Ut(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=n+r+this.$$url}}function Xt(e){return function(){return this[e]}}function Gt(t,n){return function(e){return P(e)?this[t]:(this[t]=n(e),this.$$compose(),this)}}function Kt(){var g="",a=!1;this.hashPrefix=function(e){return q(e)?(g=e,this):g},this.html5Mode=function(e){return q(e)?(a=e,this):a},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(c,l,e,f){var h,p,d,t,n=l.baseHref(),r=l.url();a?(d=(t=r).substring(0,t.indexOf("/",t.indexOf("//")+2))+(n||"/"),p=e.history?Vt:Qt):(d=Ht(r),p=zt),(h=new p(d,"#"+g)).$$parse(h.$$rewrite(r)),f.on("click",function(e){if(!e.ctrlKey&&!e.metaKey&&2!=e.which){for(var t=ne(e.target);"a"!==M(t[0].nodeName);)if(t[0]===f[0]||!(t=t.parent())[0])return;var n=t.prop("href");if(ae(n)&&"[object SVGAnimatedString]"===n.toString()&&(n=Sn(n.animVal).href),p===Qt){var r=t.attr("href")||t.attr("xlink:href");if(r.indexOf("://")<0){var i="#"+g;if("/"==r[0])n=d+i+r;else if("#"==r[0])n=d+i+(h.path()||"/")+r;else{for(var o=h.path().split("/"),a=r.split("/"),s=0;s<a.length;s++)"."!=a[s]&&(".."==a[s]?o.pop():a[s].length&&o.push(a[s]));n=d+i+o.join("/")}}}var u=h.$$rewrite(n);n&&!t.attr("target")&&u&&!e.isDefaultPrevented()&&(e.preventDefault(),u!=l.url()&&(h.$$parse(u),c.$apply(),m.angular["ff-684208-preventDefault"]=!0))}}),h.absUrl()!=r&&l.url(h.absUrl(),!0),l.onUrlChange(function(t){h.absUrl()!=t&&(c.$evalAsync(function(){var e=h.absUrl();h.$$parse(t),c.$broadcast("$locationChangeStart",t,e).defaultPrevented?(h.$$parse(e),l.url(e)):o(e)}),c.$$phase||c.$digest())});var i=0;return c.$watch(function(){var e=l.url(),t=h.$$replace;return i&&e==h.absUrl()||(i++,c.$evalAsync(function(){c.$broadcast("$locationChangeStart",h.absUrl(),e).defaultPrevented?h.$$parse(e):(l.url(h.absUrl(),t),o(e))})),h.$$replace=!1,i}),h;function o(e){c.$broadcast("$locationChangeSuccess",h.absUrl(),e)}}]}function Zt(){var n=!0,r=this;this.debugEnabled=function(e){return q(e)?(n=e,this):n},this.$get=["$window",function(o){return{log:t("log"),info:t("info"),warn:t("warn"),error:t("error"),debug:(e=t("debug"),function(){n&&e.apply(r,arguments)})};var e;function t(e){var t=o.console||{},r=t[e]||t.log||k,n=!1;try{n=!!r.apply}catch(i){}return n?function(){var n=[];return re(arguments,function(e){var t;n.push(((t=e)instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t))}),r.apply(t,n)}:function(e,t){r(e,null==t?"":t)}}}]}Qt.prototype=zt.prototype=Vt.prototype={$$html5:!1,$$replace:!1,absUrl:Xt("$$absUrl"),url:function(e,t){if(P(e))return this.$$url;var n=It.exec(e);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",t),this},protocol:Xt("$$protocol"),host:Xt("$$host"),port:Xt("$$port"),path:Gt("$$path",function(e){return"/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(se(e))this.$$search=L(e);else{if(!ae(e))throw jt("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");this.$$search=e}break;default:P(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Gt("$$hash",f),replace:function(){return this.$$replace=!0,this}};var Jt=b("$parse");function Yt(e,t){if("constructor"===e)throw Jt("isecfld",'Referencing "constructor" field in Angular expressions is disallowed! Expression: {0}',t);return e}function en(e,t){if(e){if(e.constructor===e)throw Jt("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.document&&e.location&&e.alert&&e.setInterval)throw Jt("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Jt("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t)}return e}var tn={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:k,"+":function(e,t,n,r){return n=n(e,t),r=r(e,t),q(n)?q(r)?n+r:n:q(r)?r:te},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(q(n)?n:0)-(q(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"^":function(e,t,n,r){return n(e,t)^r(e,t)},"=":k,"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"&":function(e,t,n,r){return n(e,t)&r(e,t)},"|":function(e,t,n,r){return r(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},nn={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},rn=function(e){this.options=e};rn.prototype={constructor:rn,lex:function(e){for(this.text=e,this.index=0,this.ch=te,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var t=this.ch+this.peek(),n=t+this.peek(2),r=tn[this.ch],i=tn[t],o=tn[n];o?(this.tokens.push({index:this.index,text:n,fn:o}),this.index+=3):i?(this.tokens.push({index:this.index,text:t,fn:i}),this.index+=2):r?(this.tokens.push({index:this.index,text:this.ch,fn:r}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return-1!==e.indexOf(this.ch)},was:function(e){return-1!==e.indexOf(this.lastCh)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||" "===e},isIdent:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=q(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Jt("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=M(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}e*=1,this.tokens.push({index:t,text:e,literal:!0,constant:!0,fn:function(){return e}})},readIdent:function(){for(var e,t,n,r,i=this,o="",a=this.index;this.index<this.text.length&&("."===(r=this.text.charAt(this.index))||this.isIdent(r)||this.isNumber(r));)"."===r&&(e=this.index),o+=r,this.index++;if(e)for(t=this.index;t<this.text.length;){if("("===(r=this.text.charAt(t))){n=o.substr(e-a+1),o=o.substr(0,e-a),this.index=t;break}if(!this.isWhitespace(r))break;t++}var s={index:a,text:o};if(tn.hasOwnProperty(o))s.fn=tn[o],s.literal=!0,s.constant=!0;else{var u=cn(o,this.options,this.text);s.fn=ie(function(e,t){return u(e,t)},{assign:function(e,t){return an(e,o,t,i.text,i.options)}})}this.tokens.push(s),n&&(this.tokens.push({index:e,text:"."}),this.tokens.push({index:e+1,text:n}))},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=nn[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,string:n,literal:!0,constant:!0,fn:function(){return n}});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var on=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};function an(e,t,n,r,i){i=i||{};for(var o,a=t.split("."),s=0;1<a.length;s++){var u=e[o=Yt(a.shift(),r)];u||(u={},e[o]=u),e=u}return e[o=Yt(a.shift(),r)]=n}on.ZERO=ie(function(){return 0},{constant:!0}),on.prototype={constructor:on,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e,t,n;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var r=this.expect();(e=r.fn)||this.throwError("not a primary expression",r),e.literal=!!r.literal,e.constant=!!r.constant}for(;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,n),n=null):"["===t.text?(n=e,e=this.objectIndex(e)):"."===t.text?(n=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw Jt("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw Jt("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){if(0<this.tokens.length){var i=this.tokens[0],o=i.text;if(o===e||o===t||o===n||o===r||!e&&!t&&!n&&!r)return i}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(n,r){return ie(function(e,t){return n(e,t,r)},{constant:r.constant})},ternaryFn:function(n,r,i){return ie(function(e,t){return n(e,t)?r(e,t):i(e,t)},{constant:n.constant&&r.constant&&i.constant})},binaryFn:function(n,r,i){return ie(function(e,t){return r(e,t,n,i)},{constant:n.constant&&i.constant})},statements:function(){for(var o=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&o.push(this.filterChain()),!this.expect(";"))return 1===o.length?o[0]:function(e,t){for(var n,r=0;r<o.length;r++){var i=o[r];i&&(n=i(e,t))}return n}},filterChain:function(){for(var e,t=this.expression();;){if(!(e=this.expect("|")))return t;t=this.binaryFn(t,e.fn,this.filter())}},filter:function(){for(var e=this.expect(),o=this.$filter(e.text),a=[];;){if(!(e=this.expect(":"))){var t=function(e,t,n){for(var r=[n],i=0;i<a.length;i++)r.push(a[i](e,t));return o.apply(e,r)};return function(){return t}}a.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var n,e,r=this.ternary();return(e=this.expect("="))?(r.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),n=this.ternary(),function(e,t){return r.assign(e,n(e,t),t)}):r},ternary:function(){var e,t,n=this.logicalOR();return(t=this.expect("?"))?(e=this.ternary(),(t=this.expect(":"))?this.ternaryFn(n,e,this.ternary()):void this.throwError("expected :",t)):n},logicalOR:function(){for(var e,t=this.logicalAND();;){if(!(e=this.expect("||")))return t;t=this.binaryFn(t,e.fn,this.logicalAND())}},logicalAND:function(){var e,t=this.equality();return(e=this.expect("&&"))&&(t=this.binaryFn(t,e.fn,this.logicalAND())),t},equality:function(){var e,t=this.relational();return(e=this.expect("==","!=","===","!=="))&&(t=this.binaryFn(t,e.fn,this.equality())),t},relational:function(){var e,t=this.additive();return(e=this.expect("<",">","<=",">="))&&(t=this.binaryFn(t,e.fn,this.relational())),t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.fn,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.fn,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(on.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(r){var i=this,o=this.expect().text,a=cn(o,this.options,this.text);return ie(function(e,t,n){return a(n||r(e,t))},{assign:function(e,t,n){return an(r(e,n),o,t,i.text,i.options)}})},objectIndex:function(i){var o=this,a=this.expression();return this.consume("]"),ie(function(e,t){var n=i(e,t),r=a(e,t);return n?en(n[r],o.text):te},{assign:function(e,t,n){var r=a(e,n);return en(i(e,n),o.text)[r]=t}})},functionCall:function(a,s){var u=[];if(")"!==this.peekToken().text)for(;u.push(this.expression()),this.expect(","););this.consume(")");var c=this;return function(e,t){for(var n=[],r=s?s(e,t):e,i=0;i<u.length;i++)n.push(u[i](e,t));var o=a(e,t,r)||k;return en(r,c.text),en(o,c.text),en(o.apply?o.apply(r,n):o(n[0],n[1],n[2],n[3],n[4]),c.text)}},arrayDeclaration:function(){var i=[],e=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var t=this.expression();i.push(t),t.constant||(e=!1)}while(this.expect(","));return this.consume("]"),ie(function(e,t){for(var n=[],r=0;r<i.length;r++)n.push(i[r](e,t));return n},{literal:!0,constant:e})},object:function(){var o=[],e=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var t=this.expect(),n=t.string||t.text;this.consume(":");var r=this.expression();o.push({key:n,value:r}),r.constant||(e=!1)}while(this.expect(","));return this.consume("}"),ie(function(e,t){for(var n={},r=0;r<o.length;r++){var i=o[r];n[i.key]=i.value(e,t)}return n},{literal:!0,constant:e})}};var sn={};function un(r,i,o,a,s,e,t){return Yt(r,e),Yt(i,e),Yt(o,e),Yt(a,e),Yt(s,e),function(e,t){var n=t&&t.hasOwnProperty(r)?t:e;return null==n?n:(n=n[r],i?null==n?te:(n=n[i],o?null==n?te:(n=n[o],a?null==n?te:(n=n[a],s?null==n?te:n=n[s]:n):n):n):n)}}function cn(e,t,i){if(sn.hasOwnProperty(e))return sn[e];var n,r,o,a,s,u=e.split("."),c=u.length;if(1===c)Yt(s=u[0],i),n=function(e,t){return null==e?te:(t&&t.hasOwnProperty(s)?t:e)[s]};else if(2===c)r=u[0],o=u[1],Yt(r,a=i),Yt(o,a),n=function(e,t){return null==e?te:null==(e=(t&&t.hasOwnProperty(r)?t:e)[r])?te:e[o]};else if(t.csp)n=c<6?un(u[0],u[1],u[2],u[3],u[4],i):function(e,t){for(var n,r=0;n=un(u[r++],u[r++],u[r++],u[r++],u[r++],i)(e,t),t=te,e=n,r<c;);return n};else{var l="var p;\n";re(u,function(e,t){Yt(e,i),l+="if(s == null) return undefined;\ns="+(t?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"];\n'}),l+="return s;";var f=new Function("s","k",l);f.toString=oe(l),n=f}return"hasOwnProperty"!==e&&(sn[e]=n),n}function ln(){var a={},s={csp:!1};this.$get=["$filter","$sniffer","$log",function(o,e,t){return s.csp=e.csp,function(e){var t,n;switch(typeof e){case"string":if(":"===e.charAt(0)&&":"===e.charAt(1)&&(n=!0,e=e.substring(2)),a.hasOwnProperty(e))return n?i(a[e]):a[e];var r=new rn(s);return t=new on(r,o,s).parse(e),"hasOwnProperty"!==e&&(a[e]=t),t.constant&&(t.$$unwatch=!0),n?i(t):t;case"function":return e;default:return k}function i(n){var r,i=!1;return o.literal=n.literal,o.constant=n.constant,o.assign=n.assign,o;function o(e,t){return i||(r=n(e,t),(o.$$unwatch=q(r))&&e&&e.$$postDigestQueue&&e.$$postDigestQueue.push(function(){(i=q(r))&&!r.$$unwrapTrustedValue&&(r=E(r))})),r}}}}]}function fn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return function(c,l){var f=function(){var s,t,u=[];return t={resolve:function(e){if(u){var r=u;u=te,s=h(e),r.length&&c(function(){for(var e,t=0,n=r.length;t<n;t++)e=r[t],s.then(e[0],e[1],e[2])})}},reject:function(e){t.resolve(n(e))},notify:function(n){if(u){var r=u;u.length&&c(function(){for(var e=0,t=r.length;e<t;e++)r[e][2](n)})}},promise:{then:function(n,r,i){var o=f(),e=function(e){try{o.resolve((ce(n)?n:d)(e))}catch(t){o.reject(t),l(t)}},t=function(e){try{o.resolve((ce(r)?r:g)(e))}catch(t){o.reject(t),l(t)}},a=function(e){try{o.notify((ce(i)?i:d)(e))}catch(t){l(t)}};return u?u.push([e,t,a]):s.then(e,t,a),o.promise},"catch":function(e){return this.then(null,e)},"finally":function(i){function o(e,t){var n=f();return t?n.resolve(e):n.reject(e),n.promise}function t(e,t){var n=null;try{n=(i||d)()}catch(r){return o(r,!1)}return n&&ce(n.then)?n.then(function(){return o(e,t)},function(e){return o(e,!1)}):o(e,t)}return this.then(function(e){return t(e,!0)},function(e){return t(e,!1)})}}}},h=function(n){return n&&ce(n.then)?n:{then:function(e){var t=f();return c(function(){t.resolve(e(n))}),t.promise}}},p=function(e){var t=f();return t.reject(e),t.promise},n=function(r){return{then:function(e,t){var n=f();return c(function(){try{n.resolve((ce(t)?t:g)(r))}catch(e){n.reject(e),l(e)}}),n.promise}}};function d(e){return e}function g(e){return p(e)}return{defer:f,reject:p,when:function(e,n,r,i){var t,o=f(),a=function(e){try{return(ce(n)?n:d)(e)}catch(t){return l(t),p(t)}},s=function(e){try{return(ce(r)?r:g)(e)}catch(t){return l(t),p(t)}},u=function(e){try{return(ce(i)?i:d)(e)}catch(t){l(t)}};return c(function(){h(e).then(function(e){t||(t=!0,o.resolve(h(e).then(a,s,u)))},function(e){t||(t=!0,o.resolve(s(e)))},function(e){t||o.notify(u(e))})}),o.promise},all:function(e){var n=f(),r=0,i=ue(e)?[]:{};re(e,function(e,t){r++,h(e).then(function(e){i.hasOwnProperty(t)||(i[t]=e,--r||n.resolve(i))},function(e){i.hasOwnProperty(t)||n.reject(e)})}),0===r&&n.resolve(i);return n.promise}}}(function(e){t.$evalAsync(e)},e)}]}function hn(){this.$get=["$window","$timeout",function(e,n){var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,t=!!r,o=t?function(e){var t=r(e);return function(){i(t)}}:function(e){var t=n(e,16.66,!1);return function(){n.cancel(t)}};return o.supported=t,o}]}function pn(){var _=10,x=b("$rootScope"),S=null;this.digestTtl=function(e){return arguments.length&&(_=e),_},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(e,$,d,t){function n(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}n.prototype={constructor:n,$new:function(e){var t;return e?((t=new n).$root=this.$root,t.$$asyncQueue=this.$$asyncQueue,t.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=a(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),t=new this.$$childScopeClass),(t["this"]=t).$parent=this,t.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=t,this.$$childTail=t):this.$$childHead=this.$$childTail=t,t},$watch:function(e,t,n){var r=s(e,"watch"),i=this.$$watchers,o={fn:t,last:b,get:r,exp:e,eq:!!n};if(S=null,!ce(t)){var a=s(t||k,"listener");o.fn=function(e,t,n){a(n)}}return i||(i=this.$$watchers=[]),i.unshift(o),function(){fe(i,o),S=null}},$watchGroup:function(e,t){var i=new Array(e.length),o=new Array(e.length),a=[],s=0,u=this,c=new Array(e.length),l=e.length;return re(e,function(e,n){var r=d(e);a.push(u.$watch(r,function(e,t){o[n]=e,i[n]=t,s++,c[n]&&!r.$$unwatch&&l++,!c[n]&&r.$$unwatch&&l--,c[n]=r.$$unwatch}))},this),a.push(u.$watch(n,function(){t(o,i,u),n.$$unwatch=0===l})),function(){re(a,function(e){e()})};function n(){return s}},$watchCollection:function(e,n){var r,i,o,a=this,s=1<n.length,u=0,c=d(e),l=[],f={},h=!0,p=0;return this.$watch(function(){var e,t;if(ae(r=c(a)))if(O(r)){i!==l&&(p=(i=l).length=0,u++),e=r.length,p!==e&&(u++,i.length=p=e);for(var n=0;n<e;n++)i[n]!=i[n]&&r[n]!=r[n]||i[n]===r[n]||(u++,i[n]=r[n])}else{for(t in i!==f&&(i=f={},p=0,u++),e=0,r)r.hasOwnProperty(t)&&(e++,i.hasOwnProperty(t)?i[t]!==r[t]&&(u++,i[t]=r[t]):(p++,i[t]=r[t],u++));if(e<p)for(t in u++,i)i.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(p--,delete i[t])}else i!==r&&(i=r,u++);return c.$$unwatch,u},function(){if(h?(h=!1,n(r,r,a)):n(r,o,a),s)if(ae(r))if(O(r)){o=new Array(r.length);for(var e=0;e<r.length;e++)o[e]=r[e]}else for(var t in o={},r)g.call(r,t)&&(o[t]=r[t]);else o=r})},$digest:function(){var e,t,n,r,i,o,a,s,u,c,l,f=this.$$asyncQueue,h=this.$$postDigestQueue,p=_,d=[],g=[];y("$digest"),S=null;do{for(o=!1,s=this;f.length;){try{(l=f.shift()).scope.$eval(l.expression)}catch(v){w(),$(v)}S=null}e:do{if(r=s.$$watchers)for(i=r.length;i--;)try{if(e=r[i])if((t=e.get(s))===(n=e.last)||(e.eq?pe(t,n):"number"==typeof t&&"number"==typeof n&&isNaN(t)&&isNaN(n))){if(e===S){o=!1;break e}}else o=!0,(S=e).last=e.eq?E(t):t,e.fn(t,n===b?t:n,s),p<5&&(d[u=4-p]||(d[u]=[]),c=ce(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,c+="; newVal: "+I(t)+"; oldVal: "+I(n),d[u].push(c)),e.get.$$unwatch&&g.push({watch:e,array:r})}catch(v){w(),$(v)}if(!(a=s.$$childHead||s!==this&&s.$$nextSibling))for(;s!==this&&!(a=s.$$nextSibling);)s=s.$parent}while(s=a);if((o||f.length)&&!p--)throw w(),x("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",_,I(d))}while(o||f.length);for(w();h.length;)try{h.shift()()}catch(v){$(v)}for(i=g.length-1;0<=i;--i){var m=g[i];m.watch.get.$$unwatch&&fe(m.array,m.watch)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==r&&(re(this.$$listenerCount,ge(null,o,this)),e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=k,this.$on=this.$watch=this.$watchGroup=function(){return k})}},$eval:function(e,t){return d(e)(this,t)},$evalAsync:function(e){r.$$phase||r.$$asyncQueue.length||t.defer(function(){r.$$asyncQueue.length&&r.$digest()}),this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{return y("$apply"),this.$eval(e)}catch(t){$(t)}finally{w();try{r.$digest()}catch(t){throw $(t),t}}},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);for(var r=this;r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++,r=r.$parent;);var i=this;return function(){n[C(n,t)]=null,o(i,1,e)}},$emit:function(e,t){var n,r,i,o=[],a=this,s=!1,u={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=A([u],arguments,1);do{for(n=a.$$listeners[e]||o,u.currentScope=a,r=0,i=n.length;r<i;r++)if(n[r])try{n[r].apply(null,c)}catch(l){$(l)}else n.splice(r,1),r--,i--;if(s)return u.currentScope=null,u;a=a.$parent}while(a);return u.currentScope=null,u},$broadcast:function(e,t){for(var n,r,i,o=this,a=o,s=o,u={name:e,targetScope:o,preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=A([u],arguments,1);a=s;){for(r=0,i=(n=(u.currentScope=a).$$listeners[e]||[]).length;r<i;r++)if(n[r])try{n[r].apply(null,c)}catch(l){$(l)}else n.splice(r,1),r--,i--;if(!(s=a.$$listenerCount[e]&&a.$$childHead||a!==o&&a.$$nextSibling))for(;a!==o&&!(s=a.$$nextSibling);)a=a.$parent}return u.currentScope=null,u}};var r=new n;return r;function y(e){if(r.$$phase)throw x("inprog","{0} already in progress",r.$$phase);r.$$phase=e}function w(){r.$$phase=null}function s(e,t){var n=d(e);return K(n,t),n}function o(e,t,n){for(;e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n],e=e.$parent;);}function b(){}}]}function dn(){var i=/^\s*(https?|ftp|mailto|tel|file):/,o=/^\s*(https?|ftp|file|blob):|data:image\//;this.aHrefSanitizationWhitelist=function(e){return q(e)?(i=e,this):i},this.imgSrcSanitizationWhitelist=function(e){return q(e)?(o=e,this):o},this.$get=function(){return function(e,t){var n,r=t?o:i;return F&&!(8<=F)||""===(n=Sn(e).href)||n.match(r)?e:"unsafe:"+n}}}var gn=b("$sce"),mn={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function vn(e){var t=[];return q(e)&&re(e,function(e){t.push(function(e){if("self"===e)return e;if(se(e)){if(-1<e.indexOf("***"))throw gn("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=(t=e,t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(c(e))return new RegExp("^"+e.source+"$");throw gn("imatcher",'Matchers may only be "self", string patterns or RegExp objects');var t}(e))}),t}function $n(){this.SCE_CONTEXTS=mn;var a=["self"],s=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(a=vn(e)),a},this.resourceUrlBlacklist=function(e){return arguments.length&&(s=vn(e)),s},this.$get=["$injector",function(e){var r=function(e){throw gn("unsafe","Attempting to use an unsafe value in a safe context.")};function o(e,t){return"self"===e?Cn(t):!!e.exec(t.href)}function t(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}e.has("$sanitize")&&(r=e.get("$sanitize"));var n=t(),i={};return i[mn.HTML]=t(n),i[mn.CSS]=t(n),i[mn.URL]=t(n),i[mn.JS]=t(n),i[mn.RESOURCE_URL]=t(i[mn.URL]),{trustAs:function(e,t){var n=i.hasOwnProperty(e)?i[e]:null;if(!n)throw gn("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===te||""===t)return t;if("string"!=typeof t)throw gn("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(e,t){if(null===t||t===te||""===t)return t;var n=i.hasOwnProperty(e)?i[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===mn.RESOURCE_URL){if(function(e){var t,n,r=Sn(e.toString()),i=!1;for(t=0,n=a.length;t<n;t++)if(o(a[t],r)){i=!0;break}if(i)for(t=0,n=s.length;t<n;t++)if(o(s[t],r)){i=!1;break}return i}(t))return t;throw gn("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===mn.HTML)return r(t);throw gn("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof n?e.$$unwrapTrustedValue():e}}}]}function yn(){var s=!0;this.enabled=function(e){return arguments.length&&(s=!!e),s},this.$get=["$parse","$sniffer","$sceDelegate",function(t,e,n){if(s&&e.msie&&e.msieDocumentMode<8)throw gn("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var o=E(mn);o.isEnabled=function(){return s},o.trustAs=n.trustAs,o.getTrusted=n.getTrusted,o.valueOf=n.valueOf,s||(o.trustAs=o.getTrusted=function(e,t){return t},o.valueOf=f),o.parseAs=function(r,e){var i=t(e);return i.literal&&i.constant?i:function(e,t){var n=o.getTrusted(r,i(e,t));return i.$$unwatch,n}};var r=o.parseAs,i=o.getTrusted,a=o.trustAs;return re(mn,function(t,e){var n=M(e);o[Ee("parse_as_"+n)]=function(e){return r(t,e)},o[Ee("get_trusted_"+n)]=function(e){return i(t,e)},o[Ee("trust_as_"+n)]=function(e){return a(t,e)}}),o}]}function wn(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=_((/android (\d+)/.exec(M((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},u=s.documentMode,c=/^(Moz|webkit|O|ms)(?=[A-Z])/,l=s.body&&s.body.style,f=!1,h=!1;if(l){for(var p in l)if(r=c.exec(p)){n=(n=r[0]).substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),f=!!("transition"in l||n+"Transition"in l),h=!!("animation"in l||n+"Animation"in l),!o||f&&h||(f=se(s.body.style.webkitTransition),h=se(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||o<4||a),hashchange:"onhashchange"in e&&(!u||7<u),hasEvent:function(e){if("input"==e&&9==F)return!1;if(P(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:T(),vendorPrefix:n,transitions:f,animations:h,android:o,msie:F,msieDocumentMode:u}}]}function bn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(s,u,c,l){var f={};function e(t,e,n){var r,i=c.defer(),o=i.promise,a=q(n)&&!n;return r=u.defer(function(){try{i.resolve(t())}catch(e){i.reject(e),l(e)}finally{delete f[o.$$timeoutId]}a||s.$apply()},e),o.$$timeoutId=r,f[r]=i,o}return e.cancel=function(e){return!!(e&&e.$$timeoutId in f)&&(f[e.$$timeoutId].reject("canceled"),delete f[e.$$timeoutId],u.defer.cancel(e.$$timeoutId))},e}]}var _n=ee.createElement("a"),xn=Sn(m.location.href,!0);function Sn(e,t){var n=e;return F&&(_n.setAttribute("href",n),n=_n.href),_n.setAttribute("href",n),{href:_n.href,protocol:_n.protocol?_n.protocol.replace(/:$/,""):"",host:_n.host,search:_n.search?_n.search.replace(/^\?/,""):"",hash:_n.hash?_n.hash.replace(/^#/,""):"",hostname:_n.hostname,port:_n.port,pathname:"/"===_n.pathname.charAt(0)?_n.pathname:"/"+_n.pathname}}function Cn(e){var t=se(e)?Sn(e):e;return t.protocol===xn.protocol&&t.host===xn.host}function kn(){this.$get=oe(m)}function Pn(r){var i="Filter";function o(e,t){if(ae(e)){var n={};return re(e,function(e,t){n[t]=o(t,e)}),n}return r.factory(e+i,t)}this.register=o,this.$get=["$injector",function(t){return function(e){return t.get(e+i)}}],o("currency",Tn),o("date",Bn),o("filter",En),o("json",Ln),o("limitTo",Vn),o("lowercase",Hn),o("number",On),o("orderBy",zn),o("uppercase",Wn)}function En(){return function(e,n,i){if(!ue(e))return e;var t=typeof i,r=[];r.check=function(e){for(var t=0;t<r.length;t++)if(!r[t](e))return!1;return!0},"function"!==t&&(i="boolean"===t&&i?function(e,t){return l.equals(e,t)}:function(e,t){if(e&&t&&"object"==typeof e&&"object"==typeof t){for(var n in e)if("$"!==n.charAt(0)&&g.call(e,n)&&i(e[n],t[n]))return!0;return!1}return t=(""+t).toLowerCase(),-1<(""+e).toLowerCase().indexOf(t)});var o=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!o(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return i(e,t);case"object":switch(typeof t){case"object":return i(e,t);default:for(var n in e)if("$"!==n.charAt(0)&&o(e[n],t))return!0}return!1;case"array":for(var r=0;r<e.length;r++)if(o(e[r],t))return!0;return!1;default:return!1}};switch(typeof n){case"boolean":case"number":case"string":n={$:n};case"object":for(var a in n)!function(t){"undefined"!=typeof n[t]&&r.push(function(e){return o("$"==t?e:e&&e[t],n[t])})}(a);break;case"function":r.push(n);break;default:return e}for(var s=[],u=0;u<e.length;u++){var c=e[u];r.check(c)&&s.push(c)}return s}}function Tn(e){var n=e.NUMBER_FORMATS;return function(e,t){return P(t)&&(t=n.CURRENCY_SYM),Dn(e,n.PATTERNS[1],n.GROUP_SEP,n.DECIMAL_SEP,2).replace(/\u00A4/g,t)}}function On(e){var n=e.NUMBER_FORMATS;return function(e,t){return Dn(e,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,t)}}Pn.$inject=["$provide"],Tn.$inject=["$locale"],On.$inject=["$locale"];var An=".";function Dn(e,t,n,r,i){if(null==e||!isFinite(e)||ae(e))return"";var o=e<0,a=(e=Math.abs(e))+"",s="",u=[],c=!1;if(-1!==a.indexOf("e")){var l=a.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>i+1?a="0":(s=a,c=!0)}if(c)0<i&&-1<e&&e<1&&(s=e.toFixed(i));else{var f=(a.split(An)[1]||"").length;P(i)&&(i=Math.min(Math.max(t.minFrac,f),t.maxFrac));var h=Math.pow(10,i+1),p=(""+(e=Math.floor(e*h+5)/h)).split(An),d=p[0];p=p[1]||"";var g,m=0,v=t.lgSize,$=t.gSize;if(d.length>=v+$)for(m=d.length-v,g=0;g<m;g++)(m-g)%$==0&&0!==g&&(s+=n),s+=d.charAt(g);for(g=m;g<d.length;g++)(d.length-g)%v==0&&0!==g&&(s+=n),s+=d.charAt(g);for(;p.length<i;)p+="0";i&&"0"!==i&&(s+=r+p.substr(0,i))}return u.push(o?t.negPre:t.posPre),u.push(s),u.push(o?t.negSuf:t.posSuf),u.join("")}function Mn(e,t,n){var r="";for(e<0&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Fn(n,r,i,o){return i=i||0,function(e){var t=e["get"+n]();return(0<i||-i<t)&&(t+=i),0===t&&-12==i&&(t=12),Mn(t,r,o)}}function Nn(r,i){return function(e,t){var n=e["get"+r]();return t[v(i?"SHORT"+r:r)][n]}}function In(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Rn(i){return function(e){var t,n=In(e.getFullYear()),r=+(t=e,new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay())))-+n;return Mn(1+Math.round(r/6048e5),i)}}var jn={yyyy:Fn("FullYear",4),yy:Fn("FullYear",2,0,!0),y:Fn("FullYear",1),MMMM:Nn("Month"),MMM:Nn("Month",!0),MM:Fn("Month",2,1),M:Fn("Month",1,1),dd:Fn("Date",2),d:Fn("Date",1),HH:Fn("Hours",2),H:Fn("Hours",1),hh:Fn("Hours",2,-12),h:Fn("Hours",1,-12),mm:Fn("Minutes",2),m:Fn("Minutes",1),ss:Fn("Seconds",2),s:Fn("Seconds",1),sss:Fn("Milliseconds",3),EEEE:Nn("Day"),EEE:Nn("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e){var t=-1*e.getTimezoneOffset(),n=0<=t?"+":"";return n+=Mn(Math[0<t?"floor":"ceil"](t/60),2)+Mn(Math.abs(t%60),2)},ww:Rn(2),w:Rn(1)},Un=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,qn=/^\-?\d+$/;function Bn(a){var f=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,e){var n,r,i="",o=[];if(e=e||"mediumDate",e=a.DATETIME_FORMATS[e]||e,se(t)&&(t=qn.test(t)?_(t):function(e){var t;if(t=e.match(f)){var n=new Date(0),r=0,i=0,o=t[8]?n.setUTCFullYear:n.setFullYear,a=t[8]?n.setUTCHours:n.setHours;t[9]&&(r=_(t[9]+t[10]),i=_(t[9]+t[11])),o.call(n,_(t[1]),_(t[2])-1,_(t[3]));var s=_(t[4]||0)-r,u=_(t[5]||0)-i,c=_(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return a.call(n,s,u,c,l),n}return e}(t)),x(t)&&(t=new Date(t)),!p(t))return t;for(;e;)(r=Un.exec(e))?e=(o=A(o,r,1)).pop():(o.push(e),e=null);return re(o,function(e){n=jn[e],i+=n?n(t,a.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function Ln(){return function(e){return I(e,!0)}}Bn.$inject=["$locale"];var Hn=oe(M),Wn=oe(v);function Vn(){return function(e,t){if(!ue(e)&&!se(e))return e;if(t=Math.abs(Number(t))===Infinity?Number(t):_(t),se(e))return t?0<=t?e.slice(0,t):e.slice(t,e.length):"";var n,r,i=[];for(t>e.length?t=e.length:t<-e.length&&(t=-e.length),0<t?(n=0,r=t):(n=e.length+t,r=e.length);n<r;n++)i.push(e[n]);return i}}function zn(l){return function(e,i,t){if(!ue(e))return e;if(!i)return e;var r,o,a;i=ue(i)?i:[i],r=function(e){var t=!1,n=e||f;if(se(e)&&("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(t="-"==e.charAt(0),e=e.substring(1)),(n=l(e)).constant)){var r=n();return u(function(e,t){return c(e[r],t[r])},t)}return u(function(e,t){return c(n(e),n(t))},t)},a=[],re(i,function(e,t,n){a.push(r.call(o,e,t,n))}),i=a;for(var n=[],s=0;s<e.length;s++)n.push(e[s]);return n.sort(u(function(e,t){for(var n=0;n<i.length;n++){var r=i[n](e,t);if(0!==r)return r}return 0},t));function u(n,e){return j(e)?function(e,t){return n(t,e)}:n}function c(e,t){var n=typeof e,r=typeof t;return n==r?("string"==n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:e<t?-1:1):n<r?-1:1}}}function Qn(e){return ce(e)&&(e={link:e}),e.restrict=e.restrict||"AC",oe(e)}zn.$inject=["$parse"];var Xn=oe({restrict:"E",compile:function(e,t){if(F<=8&&(t.href||t.name||t.$set("href",""),e.append(ee.createComment("IE fix"))),!t.href&&!t.xlinkHref&&!t.name)return function(e,t){var n="[object SVGAnimatedString]"===s.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}),Gn={};re(Ze,function(e,r){if("multiple"!=e){var i=wt("ng-"+r);Gn[i]=function(){return{priority:100,link:function(e,t,n){e.$watch(n[i],function(e){n.$set(r,!!e)})}}}}}),re(["src","srcset","href"],function(o){var a=wt("ng-"+o);Gn[a]=function(){return{priority:99,link:function(e,t,n){var r=o,i=o;"href"===o&&"[object SVGAnimatedString]"===s.call(t.prop("href"))&&(i="xlinkHref",n.$attr[i]="xlink:href",r=null),n.$observe(a,function(e){e&&(n.$set(i,e),F&&r&&t.prop(r,n[i]))})}}}});var Kn={$addControl:k,$removeControl:k,$setValidity:k,$setDirty:k,$setPristine:k};function Zn(n,e,t,r){var i=this,o=n.parent().controller("form")||Kn,a=0,s=i.$error={},u=[];function c(e,t){t=t?"-"+ve(t,"-"):"",r.removeClass(n,(e?vr:mr)+t),r.addClass(n,(e?mr:vr)+t)}i.$name=e.name||e.ngForm,i.$dirty=!1,i.$pristine=!0,i.$valid=!0,i.$invalid=!1,o.$addControl(i),n.addClass($r),c(!0),i.$commitViewValue=function(){re(u,function(e){e.$commitViewValue()})},i.$addControl=function(e){Z(e.$name,"input"),u.push(e),e.$name&&(i[e.$name]=e)},i.$removeControl=function(n){n.$name&&i[n.$name]===n&&delete i[n.$name],re(s,function(e,t){i.$setValidity(t,!0,n)}),fe(u,n)},i.$setValidity=function(e,t,n){var r=s[e];if(t)r&&(fe(r,n),r.length||(--a||(c(t),i.$valid=!0,i.$invalid=!1),c(!(s[e]=!1),e),o.$setValidity(e,!0,i)));else{if(a||c(t),r){if(-1!=C(r,n))return}else s[e]=r=[],a++,c(!1,e),o.$setValidity(e,!1,i);r.push(n),i.$valid=!1,i.$invalid=!0}},i.$setDirty=function(){r.removeClass(n,$r),r.addClass(n,yr),i.$dirty=!0,i.$pristine=!1,o.$setDirty()},i.$setPristine=function(){r.removeClass(n,yr),r.addClass(n,$r),i.$dirty=!1,i.$pristine=!0,re(u,function(e){e.$setPristine()})}}Zn.$inject=["$element","$attrs","$scope","$animate"];var Jn=function(e){return["$timeout",function(s){return{name:"form",restrict:e?"EAC":"E",controller:Zn,compile:function(){return{pre:function(t,e,n,r){if(!n.action){var i=function(e){t.$apply(function(){r.$commitViewValue()}),e.preventDefault?e.preventDefault():e.returnValue=!1};xe(e[0],"submit",i),e.on("$destroy",function(){s(function(){Se(e[0],"submit",i)},0,!1)})}var o=e.parent().controller("form"),a=n.name||n.ngForm;a&&an(t,a,r,a),o&&e.on("$destroy",function(){o.$removeControl(r),a&&an(t,a,te,a),ie(r,Kn)})}}}}}]},Yn=Jn(),er=Jn(!0),tr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,nr=/^[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9-]+(\.[a-z0-9-]+)*$/i,rr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,ir=/^(\d{4})-(\d{2})-(\d{2})$/,or=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)$/,ar=/^(\d{4})-W(\d\d)$/,sr=/^(\d{4})-(\d\d)$/,ur=/^(\d\d):(\d\d)$/,cr=/(\s+|^)default(\s+|$)/,lr={text:hr,date:dr("date",ir,pr(ir,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":dr("datetimelocal",or,pr(or,["yyyy","MM","dd","HH","mm"]),"yyyy-MM-ddTHH:mm"),time:dr("time",ur,pr(ur,["HH","mm"]),"HH:mm"),week:dr("week",ar,function(e){if(p(e))return e;if(se(e)){ar.lastIndex=0;var t=ar.exec(e);if(t){var n=+t[1],r=+t[2],i=In(n),o=7*(r-1);return new Date(n,0,i.getDate()+o)}}return NaN},"yyyy-Www"),month:dr("month",sr,pr(sr,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,i,o){if(hr(e,t,n,r,i,o),r.$parsers.push(function(e){var t=r.$isEmpty(e);return t||rr.test(e)?(r.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(r.$setValidity("number",!1),te)}),s=r,u="number",c=t,l=c.prop("validity"),ae(l)&&s.$parsers.push(function(e){if(s.$error[u]||!(l.badInput||l.customError||l.typeMismatch)||l.valueMissing)return e;s.$setValidity(u,!1)}),r.$formatters.push(function(e){return r.$isEmpty(e)?"":""+e}),n.min){var a=function(e){var t=parseFloat(n.min);return fr(r,"min",r.$isEmpty(e)||t<=e,e)};r.$parsers.push(a),r.$formatters.push(a)}var s,u,c,l;if(n.max){var f=function(e){var t=parseFloat(n.max);return fr(r,"max",r.$isEmpty(e)||e<=t,e)};r.$parsers.push(f),r.$formatters.push(f)}r.$formatters.push(function(e){return fr(r,"number",r.$isEmpty(e)||x(e),e)})},url:function(e,t,n,r,i,o){hr(e,t,n,r,i,o);var a=function(e){return fr(r,"url",r.$isEmpty(e)||tr.test(e),e)};r.$formatters.push(a),r.$parsers.push(a)},email:function(e,t,n,r,i,o){hr(e,t,n,r,i,o);var a=function(e){return fr(r,"email",r.$isEmpty(e)||nr.test(e),e)};r.$formatters.push(a),r.$parsers.push(a)},radio:function(t,n,r,i){P(r.name)&&n.attr("name",a());n.on("click",function(e){n[0].checked&&t.$apply(function(){i.$setViewValue(r.value,e&&e.type)})}),i.$render=function(){var e=r.value;n[0].checked=e==i.$viewValue},r.$observe("value",i.$render)},checkbox:function(t,n,e,r){var i=e.ngTrueValue,o=e.ngFalseValue;se(i)||(i=!0);se(o)||(o=!1);n.on("click",function(e){t.$apply(function(){r.$setViewValue(n[0].checked,e&&e.type)})}),r.$render=function(){n[0].checked=r.$viewValue},r.$isEmpty=function(e){return e!==i},r.$formatters.push(function(e){return e===i}),r.$parsers.push(function(e){return e?i:o})},hidden:k,button:k,submit:k,reset:k,file:k};function fr(e,t,n,r){return e.$setValidity(t,n),n?r:te}function hr(r,i,o,a,e,t){var s=i.prop("validity"),u=i[0].placeholder,c={};if(!e.android){var l=!1;i.on("compositionstart",function(e){l=!0}),i.on("compositionend",function(){l=!1,n()})}var n=function(e){if(!l){var t=i.val(),n=e&&e.type;F&&"input"===(e||c).type&&i[0].placeholder!==u?u=i[0].placeholder:(j(o.ngTrim||"T")&&(t=le(t)),(a.$viewValue!==t||s&&""===t&&!s.valueMissing)&&(r.$$phase?a.$setViewValue(t,n):r.$apply(function(){a.$setViewValue(t,n)})))}};if(e.hasEvent("input"))i.on("input",n);else{var f,h=function(e){f||(f=t.defer(function(){n(e),f=null}))};i.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||h(e)}),e.hasEvent("paste")&&i.on("paste cut",h)}i.on("change",n),a.$render=function(){i.val(a.$isEmpty(a.$viewValue)?"":a.$viewValue)};var p,d,g=o.ngPattern;if(g){var m=function(e,t){return fr(a,"pattern",a.$isEmpty(t)||e.test(t),t)};(d=g.match(/^\/(.*)\/([gim]*)$/))?(g=new RegExp(d[1],d[2]),p=function(e){return m(g,e)}):p=function(e){var t=r.$eval(g);if(!t||!t.test)throw b("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",g,t,me(i));return m(t,e)},a.$formatters.push(p),a.$parsers.push(p)}if(o.ngMinlength){var v=_(o.ngMinlength),$=function(e){return fr(a,"minlength",a.$isEmpty(e)||e.length>=v,e)};a.$parsers.push($),a.$formatters.push($)}if(o.ngMaxlength){var y=_(o.ngMaxlength),w=function(e){return fr(a,"maxlength",a.$isEmpty(e)||e.length<=y,e)};a.$parsers.push(w),a.$formatters.push(w)}}function pr(r,i){return function(e){var t,n;return p(e)?e:se(e)&&(r.lastIndex=0,t=r.exec(e))?(t.shift(),n={yyyy:0,MM:1,dd:1,HH:0,mm:0},re(t,function(e,t){t<i.length&&(n[i[t]]=+e)}),new Date(n.yyyy,n.MM-1,n.dd,n.HH,n.mm)):NaN}}function dr(c,l,f,h){return function(e,t,n,r,i,o,a){if(hr(e,t,n,r,i,o),r.$parsers.push(function(e){return r.$isEmpty(e)?(r.$setValidity(c,!0),null):l.test(e)?(r.$setValidity(c,!0),f(e)):(r.$setValidity(c,!1),te)}),r.$formatters.push(function(e){return p(e)?a("date")(e,h):""}),n.min){var s=function(e){var t=r.$isEmpty(e)||f(e)>=f(n.min);return r.$setValidity("min",t),t?e:te};r.$parsers.push(s),r.$formatters.push(s)}if(n.max){var u=function(e){var t=r.$isEmpty(e)||f(e)<=f(n.max);return r.$setValidity("max",t),t?e:te};r.$parsers.push(u),r.$formatters.push(u)}}}var gr=["$browser","$sniffer","$filter",function(i,o,a){return{restrict:"E",require:["?ngModel"],link:function(e,t,n,r){r[0]&&(lr[M(n.type)]||lr.text)(e,t,n,r[0],o,i,a)}}}],mr="ng-valid",vr="ng-invalid",$r="ng-pristine",yr="ng-dirty",wr=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout",function(r,n,e,i,t,o,a){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=e.name;var s=t(e.ngModel),u=s.assign,c=null,l=this;if(!u)throw b("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",e.ngModel,me(i));this.$render=k,this.$isEmpty=function(e){return P(e)||""===e||null===e||e!=e};var f=i.inheritedData("$formController")||Kn,h=0,p=this.$error={};function d(e,t){t=t?"-"+ve(t,"-"):"",o.removeClass(i,(e?vr:mr)+t),o.addClass(i,(e?mr:vr)+t)}i.addClass($r),d(!0),this.$setValidity=function(e,t){p[e]!==!t&&(t?(p[e]&&h--,h||(d(!0),l.$valid=!0,l.$invalid=!1)):(d(!1),l.$invalid=!0,l.$valid=!1,h++),p[e]=!t,d(t,e),f.$setValidity(e,t,l))},this.$setPristine=function(){l.$dirty=!1,l.$pristine=!0,o.removeClass(i,yr),o.addClass(i,$r)},this.$rollbackViewValue=function(){a.cancel(c),l.$viewValue=l.$$lastCommittedViewValue,l.$render()},this.$commitViewValue=function(){var t=l.$viewValue;a.cancel(c),l.$$lastCommittedViewValue!==t&&(l.$$lastCommittedViewValue=t,l.$pristine&&(l.$dirty=!0,l.$pristine=!1,o.removeClass(i,$r),o.addClass(i,yr),f.$setDirty()),re(l.$parsers,function(e){t=e(t)}),l.$modelValue!==t&&(l.$modelValue=t,u(r,t),re(l.$viewChangeListeners,function(e){try{e()}catch(t){n(t)}})))},this.$setViewValue=function(e,t){l.$viewValue=e,l.$options&&!l.$options.updateOnDefault||l.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(e){var t,n=0,r=l.$options;r&&q(r.debounce)&&(x(t=r.debounce)?n=t:x(t[e])?n=t[e]:x(t["default"])&&(n=t["default"])),a.cancel(c),n?c=a(function(){l.$commitViewValue()},n):l.$commitViewValue()},r.$watch(function(){var e=s(r);if(l.$modelValue!==e){var t=l.$formatters,n=t.length;for(l.$modelValue=e;n--;)e=t[n](e);l.$viewValue!==e&&(l.$viewValue=l.$$lastCommittedViewValue=e,l.$render())}return e})}],br=function(){return{require:["ngModel","^?form","^?ngModelOptions"],controller:wr,link:{pre:function(e,t,n,r){r[2]&&(r[0].$options=r[2].$options);var i=r[0],o=r[1]||Kn;o.$addControl(i),e.$on("$destroy",function(){o.$removeControl(i)})},post:function(t,e,n,r){var i=r[0];i.$options&&i.$options.updateOn&&e.on(i.$options.updateOn,function(e){t.$apply(function(){i.$$debounceViewValueCommit(e&&e.type)})})}}}},_r=oe({require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),xr=function(){return{require:"?ngModel",link:function(e,t,n,r){if(r){n.required=!0;var i=function(e){return n.required&&r.$isEmpty(e)?void r.$setValidity("required",!1):(r.$setValidity("required",!0),e)};r.$formatters.push(i),r.$parsers.unshift(i),n.$observe("required",function(){i(r.$viewValue)})}}}},Sr=function(){return{require:"ngModel",link:function(e,t,n,r){var i=/\/(.*)\//.exec(n.ngList),o=i&&new RegExp(i[1])||n.ngList||",";r.$parsers.push(function(e){if(!P(e)){var t=[];return e&&re(e.split(o),function(e){e&&t.push(le(e))}),t}}),r.$formatters.push(function(e){return ue(e)?e.join(", "):te}),r.$isEmpty=function(e){return!e||!e.length}}}},Cr=/^(true|false|\d+)$/,kr=function(){return{priority:100,compile:function(e,t){return Cr.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Pr=function(){return{controller:["$scope","$attrs",function(e,t){var n=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==te?(this.$options.updateOnDefault=!1,this.$options.updateOn=le(this.$options.updateOn.replace(cr,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Er=Qn(function(e,t,n){t.addClass("ng-binding").data("$binding",n.ngBind),e.$watch(n.ngBind,function(e){t.text(e==te?"":e)})}),Tr=["$interpolate",function(i){return function(e,t,n){var r=i(t.attr(n.$attr.ngBindTemplate));t.addClass("ng-binding").data("$binding",r),n.$observe("ngBindTemplate",function(e){t.text(e)})}}],Or=["$sce","$parse",function(i,o){return function(t,n,e){n.addClass("ng-binding").data("$binding",e.ngBindHtml);var r=o(e.ngBindHtml);t.$watch(function(){var e=r(t);return r.$$unwatch,(e||"").toString()},function(e){n.html(i.getTrustedHtml(r(t))||"")})}}];function Ar(a,g){return a="ngClass"+a,["$animate",function(h){return{restrict:"AC",link:function(s,u,o){var c;function l(e){var t=f(e,1);o.$addClass(t)}function f(e,t){var n=u.data("$classCounts")||{},r=[];return re(e,function(e){(0<t||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(0<t)&&r.push(e))}),u.data("$classCounts",n),r.join(" ")}function t(e){if(!0===g||s.$index%2===g){var t=d(e||[]);if(c){if(!pe(e,c)){var n=d(c);o=p(i=t,r=n),a=f(a=p(r,i),-1),0===(o=f(o,1)).length?h.removeClass(u,a):0===a.length?h.addClass(u,o):h.setClass(u,o,a)}}else l(t)}var r,i,o,a;c=E(e)}s.$watch(o[a],t,!0),o.$observe("class",function(e){t(s.$eval(o[a]))}),"ngClass"!==a&&s.$watch("$index",function(e,t){var n,r=1&e;if(r!==(1&t)){var i=d(s.$eval(o[a]));r===g?l(i):(n=f(i,-1),o.$removeClass(n))}})}};function p(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function d(e){if(ue(e))return e;if(se(e))return e.split(" ");if(ae(e)){var n=[];return re(e,function(e,t){e&&n.push(t)}),n}return e}}]}var Dr=Ar("",!0),Mr=Ar("Odd",0),Fr=Ar("Even",1),Nr=Qn({compile:function(e,t){t.$set("ngCloak",te),e.removeClass("ng-cloak")}}),Ir=[function(){return{scope:!0,controller:"@",priority:500}}],Rr={};re("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(i){var o=wt("ng-"+i);Rr[o]=["$parse",function(n){return{compile:function(e,t){var r=n(t[o]);return function(t,e,n){e.on(M(i),function(e){t.$apply(function(){r(t,{$event:e})})})}}}}]});var jr,Ur=["$animate",function(u){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(t,n,r,e,i){var o,a,s;t.$watch(r.ngIf,function(e){j(e)?a||(a=t.$new(),i(a,function(e){e[e.length++]=ee.createComment(" end ngIf: "+r.ngIf+" "),o={clone:e},u.enter(e,n.parent(),n)})):(s&&(s.remove(),s=null),a&&(a.$destroy(),a=null),o&&(s=Y(o.clone),u.leave(s,function(){s=null}),o=null))})}}}],qr=["$http","$templateCache","$anchorScroll","$animate","$sce",function(g,m,v,$,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:l.noop,compile:function(e,t){var n=t.ngInclude||t.src,p=t.onload||"",d=t.autoscroll;return function(o,a,e,s,u){var c,t,l,f=0,h=function(){t&&(t.remove(),t=null),c&&(c.$destroy(),c=null),l&&($.leave(l,function(){t=null}),t=l,l=null)};o.$watch(r.parseAsResourceUrl(n),function(e){var r=function(){!q(d)||d&&!o.$eval(d)||v()},i=++f;e?(g.get(e,{cache:m}).success(function(e){if(i===f){var t=o.$new();s.template=e;var n=u(t,function(e){h(),$.enter(e,null,a,r)});l=n,(c=t).$emit("$includeContentLoaded"),o.$eval(p)}}).error(function(){i===f&&h()}),o.$emit("$includeContentRequested")):(h(),s.template=null)})}}}}],Br=["$compile",function(i){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(e,t,n,r){t.html(r.template),i(t.contents())(e)}}}],Lr=Qn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Hr=Qn({terminal:!0,priority:1e3}),Wr=["$locale","$interpolate",function(f,h){var p=/{}/g;return{restrict:"EA",link:function(t,n,r){var i=r.count,e=r.$attr.when&&n.attr(r.$attr.when),o=r.offset||0,a=t.$eval(e)||{},s={},u=h.startSymbol(),c=h.endSymbol(),l=/^when(Minus)?(.+)$/;re(r,function(e,t){l.test(t)&&(a[M(t.replace("when","").replace("Minus","-"))]=n.attr(r.$attr[t]))}),re(a,function(e,t){s[t]=h(e.replace(p,u+i+"-"+o+c))}),t.$watch(function(){var e=parseFloat(t.$eval(i));return isNaN(e)?"":(e in a||(e=f.pluralCat(e-o)),s[e](t))},function(e){n.text(e)})}}}],Vr=["$parse","$animate",function(u,k){var P="$$NG_REMOVED",E=b("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(m,v,e,t,$){var n,r,y,w,b,i,o,_,x,S=e.ngRepeat,a=S.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),s={$id:et};if(!a)throw E("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",S);if(i=a[1],o=a[2],(n=a[3])?(r=u(n),y=function(e,t,n){return x&&(s[x]=e),s[_]=t,s.$index=n,r(m,s)}):(w=function(e,t){return et(t)},b=function(e){return e}),!(a=i.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/)))throw E("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",i);_=a[3]||a[1],x=a[2];var C={};m.$watchCollection(o,function(e){var t,n,r,i,o,a,s,u,c,l,f,h,p=v[0],d={},g=[];if(O(e))l=e,c=y||w;else{for(a in c=y||b,l=[],e)e.hasOwnProperty(a)&&"$"!=a.charAt(0)&&l.push(a);l.sort()}for(i=l.length,n=g.length=l.length,t=0;t<n;t++)if(Z(u=c(a=e===l?t:l[t],s=e[a],t),"`track by` id"),C.hasOwnProperty(u))f=C[u],delete C[u],d[u]=f,g[t]=f;else{if(d.hasOwnProperty(u))throw re(g,function(e){e&&e.scope&&(C[e.id]=e)}),E("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",S,u);g[t]={id:u},d[u]=!1}for(a in C)C.hasOwnProperty(a)&&(h=Y((f=C[a]).clone),k.leave(h),re(h,function(e){e[P]=!0}),f.scope.$destroy());for(t=0,n=l.length;t<n;t++){if(s=e[a=e===l?t:l[t]],f=g[t],g[t-1]&&(p=T(g[t-1])),f.scope){for(o=f.scope,r=p;(r=r.nextSibling)&&r[P];);f.clone[0]!=r&&k.move(Y(f.clone),null,ne(p)),p=T(f)}else o=m.$new();o[_]=s,x&&(o[x]=a),o.$index=t,o.$first=0===t,o.$last=t===i-1,o.$middle=!(o.$first||o.$last),o.$odd=!(o.$even=0==(1&t)),f.scope||$(o,function(e){e[e.length++]=ee.createComment(" end ngRepeat: "+S+" "),k.enter(e,null,ne(p)),p=e,f.scope=o,f.clone=e,d[f.id]=f})}C=d})}};function T(e){return e.clone[e.clone.length-1]}}],zr=["$animate",function(r){return function(e,t,n){e.$watch(n.ngShow,function(e){r[j(e)?"removeClass":"addClass"](t,"ng-hide")})}}],Qr=["$animate",function(r){return function(e,t,n){e.$watch(n.ngHide,function(e){r[j(e)?"addClass":"removeClass"](t,"ng-hide")})}}],Xr=Qn(function(e,n,t){e.$watch(t.ngStyle,function(e,t){t&&e!==t&&re(t,function(e,t){n.css(t,"")}),e&&n.css(e)},!0)}),Gr=["$animate",function(f){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(i,e,o,a){var t=o.ngSwitch||o.on,s=[],u=[],c=[],l=[];i.$watch(t,function(e){var t,n;for(t=0,n=c.length;t<n;++t)c[t].remove();for(c.length=0,t=0,n=l.length;t<n;++t){var r=u[t];l[t].$destroy(),c[t]=r,f.leave(r,function(){c.splice(t,1)})}u.length=0,l.length=0,(s=a.cases["!"+e]||a.cases["?"])&&(i.$eval(o.change),re(s,function(n){var e=i.$new();l.push(e),n.transclude(e,function(e){var t=n.element;u.push(e),f.enter(e,t.parent(),t)})}))})}}}],Kr=Qn({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Zr=Qn({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Jr=Qn({link:function(e,t,n,r,i){if(!i)throw b("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",me(t));i(function(e){t.empty(),t.append(e)})}}),Yr=["$templateCache",function(i){return{restrict:"E",terminal:!0,compile:function(e,t){if("text/ng-template"==t.type){var n=t.id,r=e[0].text;i.put(n,r)}}}}],ei=b("ngOptions"),ti=oe({terminal:!0}),ni=["$compile","$parse",function(w,b){var _=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:k};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(n,e,t){var r,i=this,o={},a=s;i.databound=t.ngModel,i.init=function(e,t,n){a=e,t,r=n},i.addOption=function(e){Z(e,'"option value"'),o[e]=!0,a.$viewValue==e&&(n.val(e),r.parent()&&r.remove())},i.removeOption=function(e){this.hasOption(e)&&(delete o[e],a.$viewValue==e&&this.renderUnknownOption(e))},i.renderUnknownOption=function(e){var t="? "+et(e)+" ?";r.val(t),n.prepend(r),n.val(t),r.prop("selected",!0)},i.hasOption=function(e){return o.hasOwnProperty(e)},e.$on("$destroy",function(){i.renderUnknownOption=k})}],link:function(e,t,n,r){if(r[1]){for(var i,o,a,s,u,c,l,f,h,p=r[0],d=r[1],N=n.multiple,g=n.ngOptions,I=!1,R=ne(ee.createElement("option")),j=ne(ee.createElement("optgroup")),m=R.clone(),v=0,$=t.children(),y=$.length;v<y;v++)if(""===$[v].value){i=I=$.eq(v);break}p.init(d,I,m),N&&(d.$isEmpty=function(e){return!e||0===e.length}),g?function(S,C,k){var e;if(!(e=g.match(_)))throw ei("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",g,me(C));var P=b(e[2]||e[1]),E=e[4]||e[6],T=e[5],O=b(e[3]||""),A=b(e[2]?e[1]:E),D=b(e[7]),M=e[8]?b(e[8]):null,F=[[{element:C,label:""}]];I&&(w(I)(S),I.removeClass("ng-scope"),I.remove());function t(){var e,t,n,r,i,o,a,s,u,c,l,f,h,p,d,g={"":[]},m=[""],v=k.$modelValue,$=D(S)||[],y=T?U($):$,w={},b=!1;if(N)if(M&&ue(v)){b=new tt([]);for(var _=0;_<v.length;_++)w[E]=v[_],b.put(M(S,w),v[_])}else b=new tt(v);for(l=0;u=y.length,l<u;l++){if(a=l,T){if("$"===(a=y[l]).charAt(0))continue;w[T]=a}if(w[E]=$[a],e=O(S,w)||"",(t=g[e])||(t=g[e]=[],m.push(e)),N)f=q(b.remove(M?M(S,w):A(S,w)));else{if(M){var x={};x[E]=v,f=M(S,x)===M(S,w)}else f=v===A(S,w);b=b||f}d=q(d=P(S,w))?d:"",t.push({id:M?M(S,w):T?y[l]:l,label:d,selected:f})}for(N||(I||null===v?g[""].unshift({id:"",label:"",selected:!b}):b||g[""].unshift({id:"?",label:"",selected:!0})),c=0,s=m.length;c<s;c++){for(e=m[c],t=g[e],F.length<=c?(r={element:j.clone().attr("label",e),label:t.label},i=[r],F.push(i),C.append(r.element)):(i=F[c],(r=i[0]).label!=e&&r.element.attr("label",r.label=e)),h=null,l=0,u=t.length;l<u;l++)n=t[l],(o=i[l+1])?(h=o.element,o.label!==n.label&&h.text(o.label=n.label),o.id!==n.id&&h.val(o.id=n.id),o.selected!==n.selected&&h.prop("selected",o.selected=n.selected)):(""===n.id&&I?p=I:(p=R.clone()).val(n.id).attr("selected",n.selected).text(n.label),i.push(o={element:p,label:n.label,id:n.id,selected:n.selected}),h?h.after(p):r.element.append(p),h=p);for(l++;i.length>l;)i.pop().element.remove()}for(;F.length>c;)F.pop()[0].element.remove()}C.empty(),C.on("change",function(){S.$apply(function(){var e,t,n,r,i,o,a,s,u,c=D(S)||[],l={};if(N){for(n=[],o=0,s=F.length;o<s;o++)for(e=F[o],i=1,a=e.length;i<a;i++)if((r=e[i].element)[0].selected){if(t=r.val(),T&&(l[T]=t),M)for(u=0;u<c.length&&(l[E]=c[u],M(S,l)!=t);u++);else l[E]=c[t];n.push(A(S,l))}}else{if("?"==(t=C.val()))n=te;else if(""===t)n=null;else if(M){for(u=0;u<c.length;u++)if(l[E]=c[u],M(S,l)==t){n=A(S,l);break}}else l[E]=c[t],T&&(l[T]=t),n=A(S,l);1<F[0].length&&F[0][1].id!==t&&(F[0][1].selected=!1)}k.$setViewValue(n)})}),k.$render=t,S.$watch(t)}(e,t,d):N?(c=e,l=t,(f=d).$render=function(){var t=new tt(f.$viewValue);re(l.find("option"),function(e){e.selected=q(t.get(e.value))})},c.$watch(function(){pe(h,f.$viewValue)||(h=E(f.$viewValue),f.$render())}),l.on("change",function(){c.$apply(function(){var t=[];re(l.find("option"),function(e){e.selected&&t.push(e.value)}),f.$setViewValue(t)})})):(o=e,a=t,u=p,(s=d).$render=function(){var e=s.$viewValue;u.hasOption(e)?(m.parent()&&m.remove(),a.val(e),""===e&&i.prop("selected",!0)):P(e)&&i?a.val(""):u.renderUnknownOption(e)},a.on("change",function(){o.$apply(function(){m.parent()&&m.remove(),s.$setViewValue(a.val())})}))}}}}],ri=["$interpolate",function(n){var s={addOption:k,removeOption:k};return{restrict:"E",priority:100,compile:function(e,t){if(P(t.value)){var a=n(e.text(),!0);a||t.$set("value",e.text())}return function(e,t,n){var r="$selectController",i=t.parent(),o=i.data(r)||i.parent().data(r);o&&o.databound?t.prop("selected",!1):o=s,a?e.$watch(a,function(e,t){n.$set("value",e),t!==e&&o.removeOption(t),o.addOption(e)}):o.addOption(n.value),t.on("$destroy",function(){o.removeOption(n.value)})}}}}],ii=oe({restrict:"E",terminal:!1});m.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):((r=m.jQuery)&&r.fn.on?(ie((ne=r).fn,{scope:Ke.scope,isolateScope:Ke.isolateScope,controller:Ke.controller,injector:Ke.injector,inheritedData:Ke.inheritedData}),jr=(jr=r.cleanData).$$original||jr,r.cleanData=function(e){for(var t,n=0;null!=(t=e[n]);n++)r(t).triggerHandler("$destroy");jr(e)},r.cleanData.$$original=jr):ne=Ie,l.element=ne,function(e){ie(e,{bootstrap:X,copy:E,extend:ie,equals:pe,element:ne,forEach:re,injector:ut,noop:k,bind:ge,toJson:I,fromJson:R,identity:f,isUndefined:P,isDefined:q,isString:se,isFunction:ce,isObject:ae,isNumber:x,isElement:S,isArray:ue,version:ye,isDate:p,lowercase:M,uppercase:v,callbacks:{counter:0},$$minErr:b,$$csp:T}),$=function(e){var c=b("$injector"),n=b("ng");function t(e,t,n){return e[t]||(e[t]=n())}var r=t(e,"angular",Object);return r.$$minErr=r.$$minErr||b,t(r,"module",function(){var e={};return function(a,s,u){return function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name",t)}(a,"module"),s&&e.hasOwnProperty(a)&&(e[a]=null),t(e,a,function(){if(!s)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",a);var i=[],e=[],t=[],n=r("$injector","invoke","push",e),o={_invokeQueue:i,_configBlocks:e,_runBlocks:t,requires:s,name:a,provider:r("$provide","provider"),factory:r("$provide","factory"),service:r("$provide","service"),value:r("$provide","value"),constant:r("$provide","constant","unshift"),animation:r("$animateProvider","register"),filter:r("$filterProvider","register"),controller:r("$controllerProvider","register"),directive:r("$compileProvider","directive"),config:n,run:function(e){return t.push(e),this}};return u&&n(u),o;function r(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),o}}})}})}(m);try{$("ngLocale")}catch(t){$("ngLocale",[]).provider("$locale",Nt)}$("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:dn}),e.provider("$compile",$t).directive({a:Xn,input:gr,textarea:gr,form:Yn,script:Yr,select:ni,style:ii,option:ri,ngBind:Er,ngBindHtml:Or,ngBindTemplate:Tr,ngClass:Dr,ngClassEven:Fr,ngClassOdd:Mr,ngCloak:Nr,ngController:Ir,ngForm:er,ngHide:Qr,ngIf:Ur,ngInclude:qr,ngInit:Lr,ngNonBindable:Hr,ngPluralize:Wr,ngRepeat:Vr,ngShow:zr,ngStyle:Xr,ngSwitch:Gr,ngSwitchWhen:Kr,ngSwitchDefault:Zr,ngOptions:ti,ngTransclude:Jr,ngModel:br,ngList:Sr,ngChange:_r,required:xr,ngRequired:xr,ngValue:kr,ngModelOptions:Pr}).directive({ngInclude:Br}).directive(Gn).directive(Rr),e.provider({$anchorScroll:ct,$animate:ft,$browser:dt,$cacheFactory:gt,$controller:_t,$document:xt,$exceptionHandler:St,$filter:Pn,$interpolate:Mt,$interval:Ft,$http:Tt,$httpBackend:At,$location:Kt,$log:Zt,$parse:ln,$rootScope:pn,$q:fn,$sce:yn,$sceDelegate:$n,$sniffer:wn,$templateCache:mt,$timeout:bn,$window:kn,$$rAF:hn,$$asyncCallback:ht})}])}(l),ne(ee).ready(function(){Q(ee,X)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}</style>'),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(l){var o,n=0,s=Array.prototype.slice;l.cleanData=(o=l.cleanData,function(e){var t,n,r;for(r=0;null!=(n=e[r]);r++)try{(t=l._data(n,"events"))&&t.remove&&l(n).triggerHandler("remove")}catch(i){}o(e)}),l.widget=function(e,n,t){var r,i,o,a,s={},u=e.split(".")[0];return e=e.split(".")[1],r=u+"-"+e,t||(t=n,n=l.Widget),l.expr[":"][r.toLowerCase()]=function(e){return!!l.data(e,r)},l[u]=l[u]||{},i=l[u][e],o=l[u][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},l.extend(o,i,{version:t.version,_proto:l.extend({},t),_childConstructors:[]}),(a=new n).options=l.widget.extend({},a.options),l.each(t,function(t,r){var i,o;l.isFunction(r)?s[t]=(i=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=i,this._superApply=o,e=r.apply(this,arguments),this._super=t,this._superApply=n,e}):s[t]=r}),o.prototype=l.widget.extend(a,{widgetEventPrefix:i&&a.widgetEventPrefix||e},s,{constructor:o,namespace:u,widgetName:e,widgetFullName:r}),i?(l.each(i._childConstructors,function(e,t){var n=t.prototype;l.widget(n.namespace+"."+n.widgetName,o,t._proto)}),delete i._childConstructors):n._childConstructors.push(o),l.widget.bridge(e,o),o},l.widget.extend=function(e){for(var t,n,r=s.call(arguments,1),i=0,o=r.length;i<o;i++)for(t in r[i])n=r[i][t],r[i].hasOwnProperty(t)&&n!==undefined&&(l.isPlainObject(n)?e[t]=l.isPlainObject(e[t])?l.widget.extend({},e[t],n):l.widget.extend({},n):e[t]=n);return e},l.widget.bridge=function(o,t){var a=t.prototype.widgetFullName||o;l.fn[o]=function(n){var e="string"==typeof n,r=s.call(arguments,1),i=this;return n=!e&&r.length?l.widget.extend.apply(null,[n].concat(r)):n,e?this.each(function(){var e,t=l.data(this,a);return"instance"===n?(i=t,!1):t?l.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,r))!==t&&e!==undefined?(i=e&&e.jquery?i.pushStack(e.get()):e,!1):void 0:l.error("no such method '"+n+"' for "+o+" widget instance"):l.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):this.each(function(){var e=l.data(this,a);e?(e.option(n||{}),e._init&&e._init()):l.data(this,a,new t(n,this))}),i}},l.Widget=function(){},l.Widget._childConstructors=[],l.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=l(t||this.defaultElement||this)[0],this.element=l(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=l.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=l(),this.hoverable=l(),this.focusable=l(),t!==this&&(l.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=l(t.style?t.ownerDocument:t.document||t),this.window=l(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:l.noop,_getCreateEventData:l.noop,_create:l.noop,_init:l.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(l.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:l.noop,widget:function(){return this.element},option:function(e,t){var n,r,i,o=e;if(0===arguments.length)return l.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(n=e.split(".")).shift(),n.length){for(r=o[e]=l.widget.extend({},this.options[e]),i=0;i<n.length-1;i++)r[n[i]]=r[n[i]]||{},r=r[n[i]];if(e=n.pop(),1===arguments.length)return r[e]===undefined?null:r[e];r[e]=t}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(a,s,e){var u,c=this;"boolean"!=typeof a&&(e=s,s=a,a=!1),e?(s=u=l(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,u=this.widget()),l.each(e,function(e,t){function n(){if(a||!0!==c.options.disabled&&!l(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||l.guid++);var r=e.match(/^([\w:-]*)\s*(.*)$/),i=r[1]+c.eventNamespace,o=r[2];o?u.delegate(o,i,n):s.bind(i,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){l(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){l(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){l(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){l(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,n){var r,i,o=this.options[e];if(n=n||{},(t=l.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],i=t.originalEvent)for(r in i)r in t||(t[r]=i[r]);return this.element.trigger(t,n),!(l.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},l.each({show:"fadeIn",hide:"fadeOut"},function(o,a){l.Widget.prototype["_"+o]=function(t,e,n){"string"==typeof e&&(e={effect:e});var r,i=e?!0===e||"number"==typeof e?a:e.effect||a:o;"number"==typeof(e=e||{})&&(e={duration:e}),r=!l.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),r&&l.effects&&l.effects.effect[i]?t[o](e):i!==o&&t[i]?t[i](e.duration,e.easing,n):t.queue(function(e){l(this)[o](),n&&n.call(t[0]),e()})}});l.widget}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(u){"use strict";var r=0;u.ajaxTransport("iframe",function(i){if(i.async){var o,a,t,s=i.initialIframeSrc||"javascript:false;";return{send:function(e,n){(o=u('<form style="display:none;"></form>')).attr("accept-charset",i.formAcceptCharset),t=/\?/.test(i.url)?"&":"?","DELETE"===i.type?(i.url=i.url+t+"_method=DELETE",i.type="POST"):"PUT"===i.type?(i.url=i.url+t+"_method=PUT",i.type="POST"):"PATCH"===i.type&&(i.url=i.url+t+"_method=PATCH",i.type="POST"),a=u('<iframe src="'+s+'" name="iframe-transport-'+(r+=1)+'"></iframe>').bind("load",function(){var r,t=u.isArray(i.paramName)?i.paramName:[i.paramName];a.unbind("load").bind("load",function(){var e;try{if(!(e=a.contents()).length||!e[0].firstChild)throw new Error}catch(t){e=undefined}n(200,"success",{iframe:e}),u('<iframe src="'+s+'"></iframe>').appendTo(o),window.setTimeout(function(){o.remove()},0)}),o.prop("target",a.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&u.each(i.formData,function(e,t){u('<input type="hidden"/>').prop("name",t.name).val(t.value).appendTo(o)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(r=i.fileInput.clone(),i.fileInput.after(function(e){return r[e]}),i.paramName&&i.fileInput.each(function(e){u(this).prop("name",t[e]||i.paramName)}),o.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form")),o.submit(),r&&r.length&&i.fileInput.each(function(e,t){var n=u(r[e]);u(t).prop("name",n.prop("name")).attr("form",n.attr("form")),n.replaceWith(t)})}),o.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",s),o&&o.remove()}}}}),u.ajaxSetup({converters:{"iframe text":function(e){return e&&u(e[0].body).text()},"iframe json":function(e){return e&&u.parseJSON(u(e[0].body).text())},"iframe html":function(e){return e&&u(e[0].body).html()},"iframe xml":function(e){var t=e&&e[0];return t&&u.isXMLDoc(t)?t:u.parseXML(t.XMLDocument&&t.XMLDocument.xml||u(t.body).html())},"iframe script":function(e){return e&&u.globalEval(u(e[0].body).text())}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(v){"use strict";function e(n){var r="dragover"===n;return function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=e.dataTransfer;t&&-1!==v.inArray("Files",t.types)&&!1!==this._trigger(n,v.Event(n,{delegatedEvent:e}))&&(e.preventDefault(),r&&(t.dropEffect="copy"))}}v.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||v('<input type="file">').prop("disabled")),v.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),v.support.xhrFormDataFileUpload=!!window.FormData,v.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),v.widget("blueimp.fileupload",{options:{dropZone:v(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(n,e){return n=this.messages[n]||n.toString(),e&&v.each(e,function(e,t){n=n.replace("{"+e+"}",t)}),n},formData:function(e){return e.serializeArray()},add:function(e,t){if(e.isDefaultPrevented())return!1;(t.autoUpload||!1!==t.autoUpload&&v(this).fileupload("option","autoUpload"))&&t.process().done(function(){t.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:v.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;return(!this.bitrate||!n||n<r)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&v.support.xhrFileUpload||v.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===v.type(e.formData)?e.formData(e.form):v.isArray(e.formData)?e.formData:"object"===v.type(e.formData)?(n=[],v.each(e.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(e){var n=0;return v.each(e,function(e,t){n+=t.size||1}),n},_initProgressObject:function(e){var t={loaded:0,total:0,bitrate:0};e._progress?v.extend(e._progress,t):e._progress=t},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var n,r=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&r-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=r,n=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=n-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=n,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(r,n,t.bitrateInterval),this._trigger("progress",v.Event("progress",{delegatedEvent:e}),t),this._trigger("progressall",v.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(n){var r=this,e=n.xhr?n.xhr():v.ajaxSettings.xhr();e.upload&&(v(e.upload).bind("progress",function(e){var t=e.originalEvent;e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,r._onProgress(e,n)}),n.xhr=function(){return e})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(n){var r,i=this,e=n.files[0],t=n.multipart||!v.support.xhrFileUpload,o="array"===v.type(n.paramName)?n.paramName[0]:n.paramName;n.headers=v.extend({},n.headers),n.contentRange&&(n.headers["Content-Range"]=n.contentRange),t&&!n.blob&&this._isInstanceOf("File",e)||(n.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"'),t?v.support.xhrFormDataFileUpload&&(n.postMessage?(r=this._getFormData(n),n.blob?r.push({name:o,value:n.blob}):v.each(n.files,function(e,t){r.push({name:"array"===v.type(n.paramName)&&n.paramName[e]||o,value:t})})):(i._isInstanceOf("FormData",n.formData)?r=n.formData:(r=new FormData,v.each(this._getFormData(n),function(e,t){r.append(t.name,t.value)})),n.blob?r.append(o,n.blob,e.name):v.each(n.files,function(e,t){(i._isInstanceOf("File",t)||i._isInstanceOf("Blob",t))&&r.append("array"===v.type(n.paramName)&&n.paramName[e]||o,t,encodeURIComponent(t.uploadName||t.name))})),n.data=r):(n.contentType=e.type||"application/octet-stream",n.data=n.blob||e),n.blob=null},_initIframeSettings:function(e){var t=v("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t&&t!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(e){var t=v(e.fileInput),r=e.paramName;return r?v.isArray(r)||(r=[r]):(r=[],t.each(function(){for(var e=v(this),t=e.prop("name")||"files[]",n=(e.prop("files")||[1]).length;n;)r.push(t),n-=1}),r.length||(r=[t.prop("name")||"files[]"])),r},_initFormSettings:function(e){e.form&&e.form.length||(e.form=v(e.fileInput.prop("form")),e.form.length||(e.form=v(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===v.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var t=v.extend({},this.options,e);return this._initFormSettings(t),this._initDataSettings(t),t},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,n){var r=v.Deferred(),i=r.promise();return t=t||this.options.context||i,!0===e?r.resolveWith(t,n):!1===e&&r.rejectWith(t,n),i.abort=r.promise,this._enhancePromise(i)},_addConvenienceMethods:function(e,n){var r=this,i=function(e){return v.Deferred().resolveWith(r,e).promise()};n.process=function(e,t){return(e||t)&&(n._processQueue=this._processQueue=(this._processQueue||i([this])).pipe(function(){return n.errorThrown?v.Deferred().rejectWith(r,[n]).promise():i(arguments)}).pipe(e,t)),this._processQueue||i([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==r._trigger("submit",v.Event("submit",{delegatedEvent:e}),this)&&r._onSend(e,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&1<n.length&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(o,e){o.uploadedBytes=o.uploadedBytes||0;var t,a,s=this,n=o.files[0],u=n.size,c=o.uploadedBytes,l=o.maxChunkSize||u,f=this._blobSlice,h=v.Deferred(),r=h.promise();return!(!(this._isXHRUpload(o)&&f&&(c||l<u))||o.data)&&(!!e||(u<=c?(n.error=o.i18n("uploadedBytes"),this._getXHRPromise(!1,o.context,[null,"error",n.error])):(a=function(){var r=v.extend({},o),i=r._progress.loaded;r.blob=f.call(n,c,c+l,n.type),r.chunkSize=r.blob.size,r.contentRange="bytes "+c+"-"+(c+r.chunkSize-1)+"/"+u,s._initXHRData(r),s._initProgressListener(r),t=(!1!==s._trigger("chunksend",null,r)&&v.ajax(r)||s._getXHRPromise(!1,r.context)).done(function(e,t,n){c=s._getUploadedBytes(n)||c+r.chunkSize,i+r.chunkSize-r._progress.loaded&&s._onProgress(v.Event("progress",{lengthComputable:!0,loaded:c-r.uploadedBytes,total:c-r.uploadedBytes}),r),o.uploadedBytes=r.uploadedBytes=c,r.result=e,r.textStatus=t,r.jqXHR=n,s._trigger("chunkdone",null,r),s._trigger("chunkalways",null,r),c<u?a():h.resolveWith(r.context,[e,t,n])}).fail(function(e,t,n){r.jqXHR=e,r.textStatus=t,r.errorThrown=n,s._trigger("chunkfail",null,r),s._trigger("chunkalways",null,r),h.rejectWith(r.context,[e,t,n])})},this._enhancePromise(r),r.abort=function(){return t.abort()},a(),r)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(e,t,n,r){var i=r._progress.total,o=r._response;r._progress.loaded<i&&this._onProgress(v.Event("progress",{lengthComputable:!0,loaded:i,total:i}),r),o.result=r.result=e,o.textStatus=r.textStatus=t,o.jqXHR=r.jqXHR=n,this._trigger("done",null,r)},_onFail:function(e,t,n,r){var i=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),i.jqXHR=r.jqXHR=e,i.textStatus=r.textStatus=t,i.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(e,t){t.submit||this._addConvenienceMethods(e,t);var n,r,i,o,a=this,s=a._getAJAXSettings(t),u=function(){return a._sending+=1,s._bitrateTimer=new a._BitrateTimer,n=n||((r||!1===a._trigger("send",v.Event("send",{delegatedEvent:e}),s))&&a._getXHRPromise(!1,s.context,r)||a._chunkedUpload(s)||v.ajax(s)).done(function(e,t,n){a._onDone(e,t,n,s)}).fail(function(e,t,n){a._onFail(e,t,n,s)}).always(function(e,t,n){if(a._onAlways(e,t,n,s),a._sending-=1,a._active-=1,s.limitConcurrentUploads&&s.limitConcurrentUploads>a._sending)for(var r=a._slots.shift();r;){if("pending"===a._getDeferredState(r)){r.resolve();break}r=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,s),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(1<this.options.limitConcurrentUploads?(i=v.Deferred(),this._slots.push(i),o=i.pipe(u)):(this._sequence=this._sequence.pipe(u,u),o=this._sequence),o.abort=function(){return r=[undefined,"abort","abort"],n?n.abort():(i&&i.rejectWith(s.context,r),u())},this._enhancePromise(o)):u()},_onAdd:function(r,i){var o,e,a,t,s=this,u=!0,n=v.extend({},this.options,i),c=i.files,l=c.length,f=n.limitMultiFileUploads,h=n.limitMultiFileUploadSize,p=n.limitMultiFileUploadSizeOverhead,d=0,g=this._getParamName(n),m=0;if(!h||l&&c[0].size!==undefined||(h=undefined),(n.singleFileUploads||f||h)&&this._isXHRUpload(n))if(n.singleFileUploads||h||!f)if(!n.singleFileUploads&&h)for(a=[],o=[],t=0;t<l;t+=1)d+=c[t].size+p,(t+1===l||d+c[t+1].size+p>h||f&&f<=t+1-m)&&(a.push(c.slice(m,t+1)),(e=g.slice(m,t+1)).length||(e=g),o.push(e),m=t+1,d=0);else o=g;else for(a=[],o=[],t=0;t<l;t+=f)a.push(c.slice(t,t+f)),(e=g.slice(t,t+f)).length||(e=g),o.push(e);else a=[c],o=[g];return i.originalFiles=c,v.each(a||c,function(e,t){var n=v.extend({},i);return n.files=a?t:[t],n.paramName=o[e],s._initResponseObject(n),s._initProgressObject(n),s._addConvenienceMethods(r,n),u=s._trigger("add",v.Event("add",{delegatedEvent:r}),n)}),u},_replaceFileInput:function(e){var n=e.fileInput,r=n.clone(!0);e.fileInputClone=r,v("<form></form>").append(r)[0].reset(),n.after(r).detach(),v.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?r[0]:t}),n[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(n,r){var e,i=this,o=v.Deferred(),a=function(e){e&&!e.entry&&(e.entry=n),o.resolve([e])},s=function(){e.readEntries(function(e){var t;e.length?(u=u.concat(e),s()):(t=u,i._handleFileTreeEntries(t,r+n.name+"/").done(function(e){o.resolve(e)}).fail(a))},a)},u=[];return r=r||"",n.isFile?n._file?(n._file.relativePath=r,o.resolve(n._file)):n.file(function(e){e.relativePath=r,o.resolve(e)},a):n.isDirectory?(e=n.createReader(),s()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(e,t){var n=this;return v.when.apply(v,v.map(e,function(e){return n._handleFileTreeEntry(e,t)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){var t=(e=e||{}).items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries(v.map(t,function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()})):v.Deferred().resolve(v.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var t,n,r=(e=v(e)).prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if((t=v.makeArray(e.prop("files"))).length)t[0].name===undefined&&t[0].fileName&&v.each(t,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(n=e.prop("value")))return v.Deferred().resolve([]).promise();t=[{name:n.replace(/^.*\\/,"")}]}return v.Deferred().resolve(t).promise()},_getFileInputFiles:function(e){return e instanceof v&&1!==e.length?v.when.apply(v,v.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(t){var n=this,r={fileInput:v(t.target),form:v(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(e){r.files=e,n.options.replaceFileInput&&n._replaceFileInput(r),!1!==n._trigger("change",v.Event("change",{delegatedEvent:t}),r)&&n._onAdd(t,r)})},_onPaste:function(e){var t=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,r={files:[]};t&&t.length&&(v.each(t,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)}),!1!==this._trigger("paste",v.Event("paste",{delegatedEvent:e}),r)&&this._onAdd(e,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,e=t.dataTransfer,r={};e&&e.files&&e.files.length&&(t.preventDefault(),this._getDroppedFiles(e).always(function(e){r.files=e,!1!==n._trigger("drop",v.Event("drop",{delegatedEvent:t}),r)&&n._onAdd(t,r)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),v.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,t){var n=-1!==v.inArray(e,this._specialOptions);n&&this._destroyEventHandlers(),this._super(e,t),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;e.fileInput===undefined?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof v||(e.fileInput=v(e.fileInput)),e.dropZone instanceof v||(e.dropZone=v(e.dropZone)),e.pasteZone instanceof v||(e.pasteZone=v(e.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(e,t){return"url"!==e&&"string"===v.type(t)&&/^\/.*\/[igm]{0,3}$/.test(t)},_initDataAttributes:function(){var r=this,i=this.options,o=v(this.element[0].cloneNode(!1));v.each(o.data(),function(e,t){var n="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();o.attr(n)&&(r._isRegExpOption(e,t)&&(t=r._getRegExp(t)),i[e]=t)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=v.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,r,i=this,o=v.Deferred(),e=o.promise();return e.abort=function(){return r=!0,n?n.abort():(o.reject(null,"abort","abort"),e)},this._getFileInputFiles(t.fileInput).always(function(e){r||(e.length?(t.files=e,(n=i._onSend(null,t)).then(function(e,t,n){o.resolve(e,t,n)},function(e,t,n){o.reject(e,t,n)})):o.reject())}),this._enhancePromise(e)}if(t.files=v.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],e):e(window.jQuery)}(function(a){"use strict";var r=a.blueimp.fileupload.prototype.options.add;a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{processQueue:[],add:function(e,t){var n=a(this);t.process(function(){return n.fileupload("process",t)}),r.call(this,e,t)}},processActions:{},_processFile:function(e,r){var i=this,o=a.Deferred().resolveWith(i,[e]).promise();return this._trigger("process",null,e),a.each(e.processQueue,function(e,t){var n=function(e){return r.errorThrown?a.Deferred().rejectWith(i,[r]).promise():i.processActions[t.action].call(i,e,t)};o=o.pipe(n,t.always&&n)}),o.done(function(){i._trigger("processdone",null,e),i._trigger("processalways",null,e)}).fail(function(){i._trigger("processfail",null,e),i._trigger("processalways",null,e)}),o},_transformProcessQueue:function(i){var t=[];a.each(i.processQueue,function(){var n={},e=this.action,r=!0===this.prefix?e:this.prefix;a.each(this,function(e,t){"string"===a.type(t)&&"@"===t.charAt(0)?n[e]=i[t.slice(1)||(r?r+e.charAt(0).toUpperCase()+e.slice(1):e)]:n[e]=t}),t.push(n)}),i.processQueue=t},processing:function(){return this._processing},process:function(r){var i=this,o=a.extend({},this.options,r);return o.processQueue&&o.processQueue.length&&(this._transformProcessQueue(o),0===this._processing&&this._trigger("processstart"),a.each(r.files,function(e){var t=e?a.extend({},o):o,n=function(){return r.errorThrown?a.Deferred().rejectWith(i,[r]).promise():i._processFile(t,r)};t.index=e,i._processing+=1,i._processingQueue=i._processingQueue.pipe(n,n).always(function(){i._processing-=1,0===i._processing&&i._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=a.Deferred().resolveWith(this).promise()}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],e):e(window.jQuery)}(function(a){"use strict";a.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{getNumberOfFiles:a.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(e,t){if(t.disabled)return e;var n,r=a.Deferred(),i=this.options,o=e.files[e.index];return(t.minFileSize||t.maxFileSize)&&(n=o.size),"number"===a.type(t.maxNumberOfFiles)&&(i.getNumberOfFiles()||0)+e.files.length>t.maxNumberOfFiles?o.error=i.i18n("maxNumberOfFiles"):!t.acceptFileTypes||t.acceptFileTypes.test(o.type)||t.acceptFileTypes.test(o.name)?n>t.maxFileSize?o.error=i.i18n("maxFileSize"):"number"===a.type(n)&&n<t.minFileSize?o.error=i.i18n("minFileSize"):delete o.error:o.error=i.i18n("acceptFileTypes"),o.error||e.files.error?(e.files.error=!0,r.rejectWith(this,[e])):r.resolveWith(this,[e]),r.promise()}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(a){"use strict";window.XDomainRequest&&!a.support.cors&&a.ajaxTransport(function(r){var o;if(r.crossDomain&&r.async)return r.timeout&&(r.xdrTimeout=r.timeout,delete r.timeout),{send:function(e,i){var t=/\?/.test(r.url)?"&":"?";function n(e,t,n,r){o.onload=o.onerror=o.ontimeout=a.noop,o=null,i(e,t,n,r)}o=new XDomainRequest,"DELETE"===r.type?(r.url=r.url+t+"_method=DELETE",r.type="POST"):"PUT"===r.type?(r.url=r.url+t+"_method=PUT",r.type="POST"):"PATCH"===r.type&&(r.url=r.url+t+"_method=PATCH",r.type="POST"),o.open(r.type,r.url),o.onload=function(){n(200,"OK",{text:o.responseText},"Content-Type: "+o.contentType)},o.onerror=function(){n(404,"Not Found")},r.xdrTimeout&&(o.ontimeout=function(){n(0,"timeout")},o.timeout=r.xdrTimeout),o.send(r.hasContent&&r.data||null)},abort:function(){o&&(o.onerror=a.noop(),o.abort())}}})}),function(){function n(e){this.mode=o.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,n=this.data.length;t<n;t++){var r=[],i=this.data.charCodeAt(t);65536<i?(r[0]=240|(1835008&i)>>>18,r[1]=128|(258048&i)>>>12,r[2]=128|(4032&i)>>>6,r[3]=128|63&i):2048<i?(r[0]=224|(61440&i)>>>12,r[1]=128|(4032&i)>>>6,r[2]=128|63&i):128<i?(r[0]=192|(1984&i)>>>6,r[1]=128|63&i):r[0]=i,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function u(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}n.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}},u.prototype={addData:function(e){var t=new n(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=u.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=v.getLostPoint(this);(0==n||r<e)&&(e=r,t=n)}return t},createMovieClip:function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var i=0;i<this.modules.length;i++)for(var o=1*i,a=0;a<this.modules[i].length;a++){var s=1*a;this.modules[i][a]&&(r.beginFill(0,100),r.moveTo(s,o),r.lineTo(s+1,o),r.lineTo(s+1,o+1),r.lineTo(s,o+1),r.endFill())}return r},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=v.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n];if(null==this.modules[r][i])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[r+o][i+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},setupTypeNumber:function(e){for(var t=v.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=v.getBCHTypeInfo(n),i=0;i<15;i++){var o=!e&&1==(r>>i&1);i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(i=0;i<15;i++){o=!e&&1==(r>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,o=0,a=this.moduleCount-1;0<a;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[r][a-s]){var u=!1;o<e.length&&(u=1==(e[o]>>>i&1)),v.getMask(t,r,a-s)&&(u=!u),this.modules[r][a-s]=u,-1==--i&&(o++,i=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}}},u.PAD0=236,u.PAD1=17,u.createData=function(e,t,n){for(var r=g.getRSBlocks(e,t),i=new m,o=0;o<n.length;o++){var a=n[o];i.put(a.mode,4),i.put(a.getLength(),v.getLengthInBits(a.mode,e)),a.write(i)}var s=0;for(o=0;o<r.length;o++)s+=r[o].dataCount;if(i.getLengthInBits()>8*s)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*s+")");for(i.getLengthInBits()+4<=8*s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*s||(i.put(u.PAD0,8),i.getLengthInBits()>=8*s));)i.put(u.PAD1,8);return u.createBytes(i,r)},u.createBytes=function(e,t){for(var n=0,r=0,i=0,o=new Array(t.length),a=new Array(t.length),s=0;s<t.length;s++){var u=t[s].dataCount,c=t[s].totalCount-u;r=Math.max(r,u),i=Math.max(i,c),o[s]=new Array(u);for(var l=0;l<o[s].length;l++)o[s][l]=255&e.buffer[l+n];n+=u;var f=v.getErrorCorrectPolynomial(c),h=new $(o[s],f.getLength()-1).mod(f);a[s]=new Array(f.getLength()-1);for(l=0;l<a[s].length;l++){var p=l+h.getLength()-a[s].length;a[s][l]=0<=p?h.get(p):0}}var d=0;for(l=0;l<t.length;l++)d+=t[l].totalCount;var g=new Array(d),m=0;for(l=0;l<r;l++)for(s=0;s<t.length;s++)l<o[s].length&&(g[m++]=o[s][l]);for(l=0;l<i;l++)for(s=0;s<t.length;s++)l<a[s].length&&(g[m++]=a[s][l]);return g};for(var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},c={L:1,M:0,Q:3,H:2},r=0,i=1,a=2,s=3,l=4,f=5,h=6,p=7,v={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;0<=v.getBCHDigit(t)-v.getBCHDigit(v.G15);)t^=v.G15<<v.getBCHDigit(t)-v.getBCHDigit(v.G15);return(e<<10|t)^v.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;0<=v.getBCHDigit(t)-v.getBCHDigit(v.G18);)t^=v.G18<<v.getBCHDigit(t)-v.getBCHDigit(v.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return v.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case r:return(t+n)%2==0;case i:return t%2==0;case a:return n%3==0;case s:return(t+n)%3==0;case l:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case f:return t*n%2+t*n%3==0;case h:return(t*n%2+t*n%3)%2==0;case p:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new $([1],0),n=0;n<e;n++)t=t.multiply(new $([1,d.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:case o.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var o=0,a=e.isDark(r,i),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var u=-1;u<=1;u++)i+u<0||t<=i+u||0==s&&0==u||a==e.isDark(r+s,i+u)&&o++;5<o&&(n+=3+o-5)}for(r=0;r<t-1;r++)for(i=0;i<t-1;i++){var c=0;e.isDark(r,i)&&c++,e.isDark(r+1,i)&&c++,e.isDark(r,i+1)&&c++,e.isDark(r+1,i+1)&&c++,0!=c&&4!=c||(n+=3)}for(r=0;r<t;r++)for(i=0;i<t-6;i++)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(i=0;i<t;i++)for(r=0;r<t-6;r++)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);var l=0;for(i=0;i<t;i++)for(r=0;r<t;r++)e.isDark(r,i)&&l++;return n+=10*(Math.abs(100*l/t/t-50)/5)}},d={glog:function(e){if(e<1)throw new Error("glog("+e+")");return d.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;256<=e;)e-=255;return d.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)d.EXP_TABLE[e]=1<<e;for(e=8;e<256;e++)d.EXP_TABLE[e]=d.EXP_TABLE[e-4]^d.EXP_TABLE[e-5]^d.EXP_TABLE[e-6]^d.EXP_TABLE[e-8];for(e=0;e<255;e++)d.LOG_TABLE[d.EXP_TABLE[e]]=e;function $(e,t){if(e.length==undefined)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}function g(e,t){this.totalCount=e,this.dataCount=t}function m(){this.buffer=[],this.length=0}$.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=d.gexp(d.glog(this.get(n))+d.glog(e.get(r)));return new $(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=d.glog(this.get(0))-d.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(r=0;r<e.getLength();r++)n[r]^=d.gexp(d.glog(e.get(r))+t);return new $(n,0).mod(e)}},g.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],g.getRSBlocks=function(e,t){var n=g.getRsBlockTable(e,t);if(n==undefined)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,i=[],o=0;o<r;o++)for(var a=n[3*o+0],s=n[3*o+1],u=n[3*o+2],c=0;c<a;c++)i.push(new g(s,u));return i},g.getRsBlockTable=function(e,t){switch(t){case c.L:return g.RS_BLOCK_TABLE[4*(e-1)+0];case c.M:return g.RS_BLOCK_TABLE[4*(e-1)+1];case c.Q:return g.RS_BLOCK_TABLE[4*(e-1)+2];case c.H:return g.RS_BLOCK_TABLE[4*(e-1)+3];default:return undefined}},m.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var y=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function w(){var e=!1,t=navigator.userAgent;if(/android/i.test(t)){e=!0;var n=t.toString().match(/android ([0-9]\.[0-9])/i);n&&n[1]&&(e=parseFloat(n[1]))}return e}var t,b,_=((t=function(e,t){this._el=e,this._htOption=t}).prototype.draw=function(e){var t=this._htOption,n=this._el,r=e.getModuleCount();function i(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var r in t)t.hasOwnProperty(r)&&n.setAttribute(r,t[r]);return n}Math.floor(t.width/r),Math.floor(t.height/r),this.clear();var o=i("svg",{viewBox:"0 0 "+String(r)+" "+String(r),width:"100%",height:"100%",fill:t.colorLight});o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(o),o.appendChild(i("rect",{fill:t.colorLight,width:"100%",height:"100%"})),o.appendChild(i("rect",{fill:t.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;a<r;a++)for(var s=0;s<r;s++)if(e.isDark(a,s)){var u=i("use",{x:String(s),y:String(a)});u.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),o.appendChild(u)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t),x="svg"===document.documentElement.tagName.toLowerCase()?_:"undefined"==typeof CanvasRenderingContext2D?((b=function(e,t){this._el=e,this._htOption=t}).prototype.draw=function(e){for(var t=this._htOption,n=this._el,r=e.getModuleCount(),i=Math.floor(t.width/r),o=Math.floor(t.height/r),a=['<table style="border:0;border-collapse:collapse;">'],s=0;s<r;s++){a.push("<tr>");for(var u=0;u<r;u++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+i+"px;height:"+o+"px;background-color:"+(e.isDark(s,u)?t.colorDark:t.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),n.innerHTML=a.join("");var c=n.childNodes[0],l=(t.width-c.offsetWidth)/2,f=(t.height-c.offsetHeight)/2;0<l&&0<f&&(c.style.margin=f+"px "+l+"px")},b.prototype.clear=function(){this._el.innerHTML=""},b):function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var l=1/window.devicePixelRatio,f=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,t,n,r,i,o,a,s,u){if("nodeName"in e&&/img/i.test(e.nodeName))for(var c=arguments.length-1;1<=c;c--)arguments[c]=arguments[c]*l;else void 0===s&&(arguments[1]*=l,arguments[2]*=l,arguments[3]*=l,arguments[4]*=l);f.apply(this,arguments)}}var t=function(e,t){this._bIsPainted=!1,this._android=w(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return t.prototype.draw=function(e){var t=this._elImage,n=this._oContext,r=this._htOption,i=e.getModuleCount(),o=r.width/i,a=r.height/i,s=Math.round(o),u=Math.round(a);t.style.display="none",this.clear();for(var c=0;c<i;c++)for(var l=0;l<i;l++){var f=e.isDark(c,l),h=l*o,p=c*a;n.strokeStyle=f?r.colorDark:r.colorLight,n.lineWidth=1,n.fillStyle=f?r.colorDark:r.colorLight,n.fillRect(h,p,o,a),n.strokeRect(Math.floor(h)+.5,Math.floor(p)+.5,s,u),n.strokeRect(Math.ceil(h)-.5,Math.ceil(p)-.5,s,u)}this._bIsPainted=!0},t.prototype.makeImage=function(){this._bIsPainted&&function(e,t){var n=this;if(n._fFail=t,n._fSuccess=e,null===n._bSupportDataURI){var r=document.createElement("img"),i=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)};return r.onabort=i,r.onerror=i,r.onload=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)},void(r.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}.call(this,e)},t.prototype.isPainted=function(){return this._bIsPainted},t.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},t.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},t}();function S(e,t){for(var n,r,i=1,o=(n=e,(r=encodeURI(n).toString().replace(/\%[0-9a-fA-F]{2}/g,"a")).length+(r.length!=n?3:0)),a=0,s=y.length;a<=s;a++){var u=0;switch(t){case c.L:u=y[a][0];break;case c.M:u=y[a][1];break;case c.Q:u=y[a][2];break;case c.H:u=y[a][3]}if(o<=u)break;i++}if(y.length<i)throw new Error("Too long data");return i}(QRCode=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:c.H},"string"==typeof t&&(t={text:t}),t)for(var n in t)this._htOption[n]=t[n];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(x=_),this._android=w(),this._el=e,this._oQRCode=null,this._oDrawing=new x(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new u(S(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=c}(),function(){var e=angular.module("checkPaper",[]);e.config(["$sceProvider","$compileProvider",function(e,t){e.enabled(!1),t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|file|javascript):/)}]),e.service("msgService",[function(){this.showMsg=function(e,t){alert(e)}}]),e.service("paperCounter",["checkService","$q","$timeout",function(r,e,i){var o;this.countEnglish=function(e){content=e.content;if(content=content.replace(/(?![\u0000-\uD7FF\uE000-\uFFFF])./g,""),content===undefined)return 0;var t=content,n=0,r=(t=(t=(t=t.replace(/[\u0021-\u002f\u003a-\u0040\u005b-\u0060\u007b-\u007e]/g,"")).replace(/[\u0030-\u0039\u0041-\u005a\u0061-\u007a\u0400-\u052f]+/g,"数")).replace(/\n|\r|\s+/gi,"")).match(/./g);return r?n=r.length:t&&(n=1),n},this.countNoLinebreaksSpaces=function(e){content=e.content;if(content=content.replace(/(?![\u0000-\uD7FF\uE000-\uFFFF])./g,""),content===undefined)return 0;var t=content.replace(/\n/g,"").replace(/\r/g,"");return testStr3=t.replace(/\s+/g,""),testStr3.length},this.countLinebreaksSpaces=function(e){content=e.content;return content=content.replace(/(?![\u0000-\uD7FF\uE000-\uFFFF])./g,""),content===undefined?0:content.length},this.countDocFile=function(e){return e.contentWords?e.contentWords:0},this.countSelf=function(e){return 0<e.contentWords?e.contentWords:0},this.countOnline=function(t){var n=e.defer();return o&&i.cancel(o),(o=i(function(){var e={};t.attachPaperSubmitData(e),"content"!=t.data_type||t.content!==undefined&&0!=t.content.length?r.countPaper(e).success(function(e){e.code?n.resolve(0):n.resolve(e.data.wordsnum)}).error(function(){n.resolve(0)}):n.resolve(0)},350)).then(null,function(){n.resolve(0)}),n.promise},this.countDefault=this.countLinebreaksSpaces}]),e.factory("transformRequestAsFormPost",function(){return function(e,t){return t()["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",function o(e,t){if(!angular.isObject(e)&&!angular.isArray(e))return null===e?"":e.toString();var a=[];if(angular.forEach(e,function(e,n){var t=n,r=e.toString();if(angular.isObject(e)||angular.isArray(e)){var i={};angular.forEach(e,function(e,t){i[n+"["+t+"]"]=e}),a=a.concat(o(i,!0))}else r=r.replace(/(?![\u0000-\uD7FF\uE000-\uFFFF])./g,""),a.push(encodeURIComponent(t)+"="+encodeURIComponent(null===r?"":r))}),t)return a;var n=a.join("&").replace(/%20/g,"+");return n}(e)}}),e.service("checkService",["$http","transformRequestAsFormPost","checkSystemService","configService",function(i,o,a,e){var s=function(){return{_user_token:e.getOptions().userToken}};this.queryTidInfo=function(e,t,n){n===undefined&&(n=a.current());var r=angular.extend({},s(),{tid:e,r:Math.random(),paytype:t,jane_name:n.janeName});return i({url:n.checkBaseUrl+"/an/payinfo/tid",params:r,cache:!1})},this.queryPayStatus=function(e,t){t===undefined&&(t=a.current());var n=angular.extend({},s(),{r:Math.random()});return i({url:t.checkBaseUrl+"/an/payinfo/"+e+"/status",params:n,cache:!1})},this.payOrder=function(e,t){t===undefined&&(t=a.current());var n=angular.extend({},s());return i({method:"POST",transformRequest:o,url:t.checkBaseUrl+"/an/checkorder/payOrder",params:n,data:e,cache:!1})},this.preCheckPaper=function(e,t){t===undefined&&(t=a.current());var n=angular.extend({},s());return i({method:"POST",transformRequest:o,url:t.checkBaseUrl+"/an/checkorder/preCreateMulti",params:n,data:e,cache:!1})},this.countPaper=function(e,t){t===undefined&&(t=a.current()),e.jane_name=t.janeName;var n=angular.extend({},s());return i({method:"POST",transformRequest:o,url:t.checkBaseUrl+"/an/checkorder/countPaper",params:n,data:e,cache:!1})},this.reCheckPaper=function(e,t,n){n===undefined&&(n=a.current());var r=angular.extend({},s());return i({method:"POST",transformRequest:o,url:n.checkBaseUrl+"/an/checkrecord/"+e+"/reUploadPaper",params:r,data:t,cache:!1})},this.queryCheckRecordByPids=function(e,t){t===undefined&&(t=a.current());var n=angular.extend({},s(),{"parameters[pids][]":e,r:Math.random()});return i({url:t.checkBaseUrl+"/an/checkrecord",params:n,cache:!1})},this.queryCheckRecordByTid=function(e,t){t===undefined&&(t=a.current());var n=angular.extend({},s(),{"parameters[tid]":e,r:Math.random()});return i({url:t.checkBaseUrl+"/an/checkrecord",params:n,cache:!1})},this.queryCheckRecordByTitleAuthor=function(e,t,n){n===undefined&&(n=a.current());var r=angular.extend({},s(),{"parameters[title]":e,"parameters[author]":t,r:Math.random()});return i({url:n.checkBaseUrl+"/an/checkrecord",params:r,cache:!1})},this.deleteCheckRecord=function(e,t){t===undefined&&(t=a.current());var n=angular.extend({},s(),{_method:"DELETE",r:Math.random()});return i({url:t.checkBaseUrl+"/an/checkrecord/"+e,params:n,cache:!1,method:"post"})}}]),e.service("configService",["msgService","$q","siteService","checkSystemService",function(r,i,o,a){this.isInit=!1;var s=this,u=i.defer(),c=i.defer(),l=undefined;this.getOptions=function(){return l},this.config=function(e){if((l=e).initUrl&&e.initUrl.indexOf("checkpass.net")<=0){var t=i.defer();return t.reject(),t.promise}e.checkSystems&&angular.forEach(e.checkSystems,function(e){a.register(e.janeName,e)});var n=a.init(e.initUrl+"/an/checksystem",e.userToken,e.initJaneName);return n.then(function(){0<a.count&&u.resolve()}),e.sellerInfo?(o.init({sellerInfo:e.sellerInfo}),c.resolve()):n.then(function(e){e?(e=e.data)&&!e.code&&(e=e.data)&&e.sellerInfo&&(o.init({sellerInfo:e.sellerInfo}),c.resolve()):r.showMsg("检测系统数据错误")}),i.all([u.promise,c.promise]).then(function(){s.isInit=!0})}}]),e.service("siteService",["$http","msgService","$q",function(e,t,n){this.sellerInfo=undefined,this.init=function(e){this.sellerInfo=e.sellerInfo;var t=n.defer();return t.resolve(),t.promise}}]),e.service("checkSystemService",["$http","msgService","$q","siteService",function(t,n,i,e){var o,a,s,u={},c=this;this.count=0,this.loading=!1,this.init=function(e,t,n){if(a=e,s=t,n)return l(n);var r=i.defer();return r.resolve(),r.promise};var l=function(e){return c.loading=!0,t({url:a,params:{_user_token:s,jane_name:e},cache:!1}).success(function(e){c.loading=!1,e.code?n.showMsg(e.codeMsg):(e=e.data,o||(o=e.checkSystems["default"]),angular.forEach(e.checkSystems.data,function(e){c.register(e.janeName,e)}))}).error(function(){c.loading=!1,n.showMsg("未知错误")})};this.register=function(e,t){if(!u.hasOwnProperty(e)){o||(o=e);var n=function(e){return t.supportSubmitTypes.hasOwnProperty(e)},r=function(e){n(e)&&(t.currentSubmitType=t.supportSubmitTypes[e],t.currentSubmitType.change=r,t.currentSubmitType.has=n)};r(t.defaultSubmitType),u[e]=t,c.count++}},this.current=function(e){if(e){var t=c.getByPromise(e);return t.then(function(e){o=e.janeName}),t}return c.get(o)},this.getCheckSystems=function(){var e=[];for(var t in u)e.push(u[t]);return e},this.getByPromise=function(t){var n=i.defer();if(u.hasOwnProperty(t)){var e=u[t];n.resolve(e)}else l(t).then(function(){if(u.hasOwnProperty(t)){var e=u[t];n.resolve(e)}else n.reject()},function(){n.reject()});return n.promise},this.get=function(e){return u.hasOwnProperty(e)?u[e]:null}}]),e.service("paperService",["checkSystemService","paperCounter","msgService","$q",function(o,a,r,s){function i(){var r="";this.title="",this.isUploaded=!1,this.isUploading=!1,this.isCounting=!1,this.author="",this.content="",this.data_type="content",this.file_name="",this.contentWords=-1,this.file_fid="",this.file=undefined,this.error=undefined,this.$index=-1;var n=undefined,i=0;this.getContentWords=function(){if(""==this.content&&"content"==this.data_type)this.contentWords=0;else if(r!==this.content||-1==this.contentWords){this.isCounting=!0,i++;var e=o.current().currentSubmitType.countClass;e||(e=o.current().countClass);var t=(0,a[e])(this),n=this;s.when(t,function(e){0==--i&&(n.contentWords=e,n.isCounting=!1)}),r=this.content}return this.contentWords},this.isExceedWordsScope=function(){contentWords=this.getContentWords();var e=o.current();return contentWords>e.maxWords||contentWords<e.minWords},this.isInited=function(){return!(""===this.content&&!this.file)},this.hasError=function(){return this.error||n},this.getError=function(){return this.error||n},this.validate=function(){n=undefined;var e=o.current();if(e.isRequredTitle&&(this.title===undefined||0===this.title.length))return!(n="论文标题不能为空");if(e.isRequredAuthor&&(this.author===undefined||0===this.author.length))return!(n="论文作者不能为空");if("content"===this.data_type){var t=this.getContentWords();if(t<e.minWords||t>e.maxWords)return n="内容长度需要在["+e.minWords+"-"+e.maxWords+"]字之间",!1}return"file_fid"===this.data_type&&0===this.file_fid.length?!(n="文件ID为空"):!this.isUploading||!(n="论文正在上传")},this.attachPaperSubmitData=function(e){return u.attachPaperSubmitData(this,e)},this.$cancel=function(){},this.$progress=function(){}}var u=this;this._papers=[],this._index=0,this.getPapers=function(){if(!o.current())return[];var e=o.current().currentSubmitType;return e.papers||(e.papers=[]),e.papers},this.getFirstPaper=function(){return this.getPaperAt(0,!0)},this.getNeedSubmitPapers=function(){var e=this.getPapers(),t=[];return angular.forEach(e,function(e){e.isInited()&&t.push(e)}),t},this.getCountWitchFile=function(){var t=0,e=this.getPapers();return angular.forEach(e,function(e){e.file&&t++}),t},this.getCount=function(){return this.getPapers().length},this.getPaperAt=function(e,t){t===undefined&&(t=!1);var n=this.getPapers();if(n.length>e)return n[e];if(t&&e==this.getCount()){var r=new i;return r.$index=u._index++,n[n.length]=r}},this.removePaperAt=function(e){var t=this.getPapers();t.length>e&&0<=e&&t.splice(e,1)},this.removePaper=function(e){var t=this.getPapers();t.splice($.inArray(e,t),1)},this.attachPaperSubmitData=function(e,t){switch(e.data_type){case"content":t.content=e.content;break;case"file_fid":t.file_fid=e.file_fid}t.title=e.title,t.author=e.author,t.content_type=e.data_type},this.validatePapers=function(e,t){t=!!t;var n=!0;return angular.forEach(e,function(e){e.validate(),e.hasError()&&(t&&r.showMsg(e.getError()),n=!1)}),n},this.hasUploadingPaper=function(){var e=this.getPapers(),t=!1;return angular.forEach(e,function(e){e.isUploading&&(t=!0)}),t}}]),e.service("submitPaperService",["checkService","$q","$rootScope","paperService","payWayService",function(u,c,e,r,t){this.isSubmitChecking=!1;var l=this;this.$scope=e,this.validatePaper=function(t,e){var n={isPass:!0,msg:""};return"0"==t.length?(n.isPass=!1,n.msg="新提交的论文数必须大于0,请重新选择论文"):(r.validatePapers(t,!1),angular.forEach(t,function(e){if(e.hasError())return n.isPass=!1,n.msg=(1<t.length?e.title+" ":"")+e.getError(),n})),n},this.payOrder=function(n,e,r){var a=c.defer();return submitData={pay_id:e,pay_type:""},l.isSubmitChecking=!0,l.isPaying=!0,n.validate(),n.hasError()?c.reject({code:-1,codeMsg:n.getError()}):(n.reset(),n.attachPayWaySubmitData(submitData),u.payOrder(submitData,r).success(function(e){var t={payWay:n,req:submitData,resp:e,checkSystem:r};angular.isObject(e)&&!e.code&&e.data?n.success(e.data):"pay.result.view"==e.code?(n&&n.needProcessView&&n.processResultView(t),a.resolve(e)):a.reject(e),l.isSubmitChecking=!1,l.isPaying=!1}).error(function(e,t,n,r,i){var o="status:"+t;e&&(o+=","+e),0===t&&(o+=" 网络问题请重试"),a.reject({code:t,codeMsg:o}),l.isSubmitChecking=!1,l.isPaying=!1}),a.promise)},this.uploadPaper=function(r,o){var e;this.$scope;if(!(e=this.validatePaper(r.papers,o)).isPass)return c.reject({code:-1,codeMsg:e.msg});var t=c.defer(),a=c.defer();t.resolve();var n={promise:t.promise};l.isSubmitChecking=!0;var s=[];s.push(n.promise),s.push(a.promise);return n.promise.then(function(){var e=r.initSubmitData||{};r.goodId!==undefined&&(e.good_id=r.goodId),r.params!==undefined&&(e.check_params=r.params),r.janeName!==undefined&&(e.jane_name=r.janeName);var t=[];for(i=0;i<r.papers.length;i++){var n={};r.papers[i].attachPaperSubmitData(n),t.push(n)}e.papers=t,$promise=u.preCheckPaper(e,o).success(function(e){angular.isObject(e)&&!e.code?a.resolve(e):a.reject(e)}).error(function(e,t,n,r,i){var o="status:"+t;e&&(o+=","+e),0===t&&(o+=" 网络问题请重试"),a.reject({code:t,codeMsg:o})})}),c.all(s).then(function(){return l.isSubmitChecking=!1,a.promise},function(){return l.isSubmitChecking=!1,a.promise})},this.reCheckPaper=function(e,t,n){var r=this.validatePaper([t],n);if(!r.isPass)return c.reject({code:-1,codeMsg:r.msg});var i={};t.attachPaperSubmitData(i);var a=c.defer();return l.isSubmitChecking=!0,$promise=u.reCheckPaper(e,i,n).success(function(e){angular.isObject(e)&&!e.code&&e.data?a.resolve(e):a.reject(e),l.isSubmitChecking=!1}).error(function(e,t,n,r,i){var o="status:"+t;e&&(o+=","+e),0===t&&(o+=" 网络问题请重试"),a.reject({code:t,codeMsg:o}),l.isSubmitChecking=!1}),$promise},this.submitMultiCheck=function(e,r){var i=this;this.uploadPaper(e,r).then(function(t){var n=c.defer();return i.payOrder(e.payWay,t.data.pay_id,r).then(function(e){n.resolve({uploadResp:t,payResp:e})},function(e){n.reject({uploadResp:t,payResp:e})}),n.promise},function(e){var t=c.defer();return t.reject({uploadResp:e,payResp:null}),t.promise})}}]),e.run(["$rootScope","checkSystemService","payWayService","submitPaperService","paperService","configService","siteService","msgService","$q",function(r,i,o,a,s,e,t,u,c){r.checkSystemService=i,r.payWayService=o,r.submitPaperService=a,r.paperService=s,r.configService=e,r.siteService=t,r.$on("checkValidateFail",function(e,t){u.showMsg(t.msg,"fail.check.validate")});var l=function(){var e=o.current(),t=s.getNeedSubmitPapers(),n=i.current();return{papers:t,payWay:e,initSubmitData:undefined,goodId:n.goodInfos["default"],params:n.params,janeName:n.janeName}};r.$checkPayId="",r.$checkOid="",r.$uploadPromise=null,r.$isUploadingPaper=!1,r.$isPayingOrder=!1,r.payOrder=function(){return r.$uploadPromise&&!r.$isPapersChanged||(r.$uploadPromise=r.uploadPaper()),r.$uploadPromise?r.$uploadPromise.then(function(){if(!r.$checkPayId)return u.showMsg("支付ID不存在","fail.pay_id.empty"),c.reject();r.$isPayingOrder=!0;var e=o.current(),t=i.current(),n=a.payOrder(e,r.$checkPayId,t);return n.then(function(e){r.$isPayingOrder=!1,r.$checkOid=e.data.oid,r.$payResp=e},function(e){r.$isPayingOrder=!1,u.showMsg(e.codeMsg,"fail.pay")}),n}):(u.showMsg("请先调用uploadPaper","fail.upload.no"),c.reject())},r.validatePaper=function(e){var t=l(),n=i.current(),r=a.validatePaper(t.papers,n);return!!r.isPass||(e!==undefined&&!0!==e||u.showMsg(r.msg,"fail.validate"),!1)},r.hasUploadingPaper=function(){return s.hasUploadingPaper()},r.uploadPaper=function(){if(r.$isUploadingPaper)return r.$uploadPromise;r.$checkPayId="",r.$isUploadingPaper=!0;var e=l(),t=i.current(),n=a.uploadPaper(e,t);return n.then(function(e){r.$isPapersChanged=!1,r.$isUploadingPaper=!1,r.$checkPayId=e.data.pay_id,r.uploadResp=e},function(e){r.$isUploadingPaper=!1,u.showMsg(e.codeMsg,"fail.upload")}),r.$uploadPromise=n},r.isUploadPaperCalled=function(){return!!r.$checkPayId&&!r.$isPapersChanged},r.isUploadPaperCalling=function(){return!!r.$isUploadingPaper},r.isPayOrderCalling=function(){return!!r.$isPayingOrder},r.$isPapersChanged=!1,r.$watch(function(){return s.getCount()},function(e,t){r.$isPapersChanged=!0}),r.$watch(function(){return e.isInit?s.getFirstPaper().getContentWords()+s.getFirstPaper().title+s.getFirstPaper().author:""},function(e,t){r.$isPapersChanged=!0}),r.startSubmitCheck=function(e){if(e||(e=confirm("是否提交检测?")),!e)return!1;var t=i.current(),n=l();return promise=a.submitMultiCheck(n,t),promise.then(function(e){},function(e){u.showMsg(e.codeMsg,"fail.check")}),promise}}]),e.service("formatFileSize",[function(){var o={units:[{size:1e9,suffix:" GB"},{size:1e6,suffix:" MB"},{size:1e3,suffix:" KB"}]};this.formate=function(e){if(!angular.isNumber(e))return"";for(var t,n,r=!0,i=0;r;){if(t=(r=o.units[i]).prefix||"",n=r.suffix||"",i===o.units.length-1||e>=r.size)return t+(e/r.size).toFixed(2)+n;i+=1}}}]),e.service("fileUploadOptions",["checkSystemService","paperService","parseFileTitleAuthorService","formatFileSize",function(n,a,s,u){return{url:"#",acceptFileTypes:"",maxFileSize:0,sequentialUploads:!0,successCount:0,totalSendCount:0,maxNumberOfFiles:1,autoUpload:!0,dataType:"json",messages:{maxNumberOfFiles:"超过单次最大可上传文件数",acceptFileTypes:"只能上传*格式",maxFileSize:"文件超过最大*M限制",minFileSize:"文件大小必须大于0"},add:function(e,r){var i=a.getCount(),t=angular.element(this),n=t.fileupload("option","scope"),o=t.fileupload("option","maxNumberOfFiles");if(e.isDefaultPrevented())return!1;1==o&&(i=0),n.$totalProgress=function(){var e=t.fileupload("progress");if(e&&e.total)return e.percent=Math.floor(e.loaded/e.total*100),e.bitrateHuman=u.formate(e.bitrate),e},n.$totalActive=function(){return t.fileupload("active")},r.$scope=n,r.process(function(){return t.fileupload("process",r)}).always(function(){r.autoUpload=(t.fileupload("option","autoUpload")||r.autoUpload)&&!1!==r.autoUpload,$.each(r.files,function(e,t){if(!(o<=i+e)){s.parse(t);var n=a.getPaperAt(i+e,!0);(""===n.title||n.file&&n.file.title==n.title)&&(n.title=t.title),(""===n.author||n.file&&n.file.author==n.author)&&(n.author=t.author),n.file=t,n.file_name=t.name,n.error=t.error,n.data_type="file",n.isUploaded=!1,r.autoUpload&&(n.isUploading=!0),n.$data=r,n.$cancel=function(){r.abort(),a.removePaper(n)},n.$progress=function(){return r.progress()},r.$paper=n}}),n.$parent.$apply()}).then(function(){r.autoUpload&&r.submit()})},send:function(e,t){t.$paper.isUploading=!0,(t.$paper.$ajaxData=t).data?t.data.append("jane_name",n.current().janeName):t.formData.push({name:"jane_name",value:n.current().janeName})},progress:function(e,t){var n=t.progress();n.percent=Math.floor(n.loaded/n.total*100),n.bitrateHuman=u.formate(n.bitrate),t.$scope.$apply()},done:function(e,r){if(e.isDefaultPrevented())return!1;var t=r.result.files;$.each(t,function(e,t){var n=r.$paper;t.fid&&(n.file_fid=t.fid,n.data_type="file_fid",n.contentWords=t.wordsnum,n.$uploadResult=t,n.isUploaded=!0),t.error&&(n.error=t.error,n.file_fid="")}),r.$scope.$apply()},always:function(e,n){var t=n.files;$.each(t,function(e,t){n.$paper.isUploading=!1}),n.$scope.$apply()}}}]),e.directive("fileUpload",function(){return{controller:["$scope","$element","$attrs",function(e,t,n){var r=angular.extend({},e.uploadOptions,{scope:e});n.checkRecord&&(r.checkRecord=e.$eval(n.checkRecord)),t.fileupload(r),e.$watch(n.fileUpload,function(e){e&&t.fileupload("option",e)})}]}}),e.service("parseFileTitleAuthorService",[function(){this.parse=function(e){var t=e.name.replace(/\..*?$/,"").match(/([^_])+/g),n=/^\d+$/;switch(e.author="",t.length){case 1:e.title=t[0];break;case 2:n.test(t[0])?e.title=t[1]:(e.title=t[1],e.author=t[0]);break;case 3:n.test(t[0])?(e.author=t[1],e.title=t[2]):e.title=e.name;break;default:e.title=e.name}}}]),e.controller("checkCtlContent",["$scope",function(e){}]),e.controller("checkCtlFileReSubmit",["$scope","fileUploadOptions","submitPaperService","msgService","checkSystemService",function(r,e,i,o,a){var t=a.current().supportSubmitTypes.file;t.uploadMaxNumberOfFiles=1,r.uploadOptions=r.uploadOptions||angular.extend({},e),r.uploadOptions.maxNumberOfFiles=t.uploadMaxNumberOfFiles,r.uploadOptions.acceptFileTypes=new RegExp("(\\.|\\/)("+t.supportFileType+")$","i"),r.uploadOptions.url=t.uploadFileUrl,r.uploadOptions.redirect=window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/proxy-iframe.html?%s",r.uploadOptions.maxFileSize=t.uploadMaxFileSize,r.uploadOptions.autoUpload=!0,r.uploadOptions.messages={maxNumberOfFiles:"超过单次最大可上传文件数"+t.uploadMaxNumberOfFiles,acceptFileTypes:"只能上传"+t.supportFileType+"格式",maxFileSize:"文件超过最大"+(t.uploadMaxFileSize/1024*1024).toFixed(2)+"M限制",minFileSize:"文件大小必须大于0"},r.uploadOptions.maxNumberOfFiles=1;var s=r.uploadOptions.always;r.uploadOptions.always=function(e,t){if(s.call(this,e,t),t.$paper.file_fid){var n=angular.element(this).fileupload("option","checkRecord");(n=r.$eval(n))?r.reSubmitCheck(!1,n):o.showMsg("需要在data-file-upload元素上设置data-check-record属性","need.checkRecord")}},r.reSubmitCheck=function(e,t){if(e||(e=confirm("是否重新提交检测?")),!e)return!1;var n=r.paperService.getFirstPaper();return n.title=t.title,n.author=t.author,a.getByPromise(t.jane_name).then(function(e){return promise=i.reCheckPaper(t.paper_id,n,e),promise.then(function(e){e.codeMsg?o.showMsg(e.codeMsg,"error.resubmit"):r.queryCheckRecordByTid(r.queryInfo.queryTid)},function(){o.showMsg("提交失败，请重新选择","fail.resubmit")}),promise})}}]),e.controller("checkCtlFile",["$scope","fileUploadOptions","checkSystemService",function(e,t,n){var r=n.current().supportSubmitTypes.file;r.uploadMaxNumberOfFiles=1,e.uploadOptions=e.uploadOptions||angular.extend({},t),e.uploadOptions.maxNumberOfFiles=r.uploadMaxNumberOfFiles,e.uploadOptions.acceptFileTypes=new RegExp("(\\.|\\/)("+r.supportFileType+")$","i"),e.uploadOptions.url=r.uploadFileUrl,e.uploadOptions.redirect=window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/proxy-iframe.html?%s",e.uploadOptions.maxFileSize=r.uploadMaxFileSize,e.uploadOptions.autoUpload=!0,e.uploadOptions.messages={maxNumberOfFiles:"超过单次最大可上传文件数"+r.uploadMaxNumberOfFiles,acceptFileTypes:"只能上传"+r.supportFileType+"格式",maxFileSize:"文件超过最大"+(r.uploadMaxFileSize/1024*1024).toFixed(2)+"M限制",minFileSize:"文件大小必须大于0"}}]),e.controller("checkCtlFiles",["$scope","fileUploadOptions","checkSystemService",function(e,t,n){var r=n.current().supportSubmitTypes.files;e.uploadOptions=angular.extend({},t),e.uploadOptions.maxNumberOfFiles=r.uploadMaxNumberOfFiles,e.uploadOptions.acceptFileTypes=new RegExp("(\\.|\\/)("+r.supportFileType+")$","i"),e.uploadOptions.url=r.uploadFileUrl,e.uploadOptions.redirect=window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/proxy-iframe.html?%s",e.uploadOptions.maxFileSize=r.uploadMaxFileSize,e.uploadOptions.autoUpload=!0,e.uploadOptions.messages={maxNumberOfFiles:"超过单次最大可上传文件数"+r.uploadMaxNumberOfFiles,acceptFileTypes:"只能上传"+r.supportFileType+"格式",maxFileSize:"文件超过最大"+(r.uploadMaxFileSize/1024*1024).toFixed(2)+"M限制",minFileSize:"文件大小必须大于0"}}]),e.controller("checkRecordCtl",["$scope","$location","$interval","checkService","msgService","checkSystemService",function(i,e,o,n,r,a){var s=i.queryInfo={},t=e.search(),u={};"?"==location.search.substr(0,1)&&(u=e.search(location.search.substr(1)).search(),e.search(t)),s.queryTid=u.tid,s.queryRecords=[],s.queryPids=[],s.isQuerying=!1,s.isDeleting=!1;var c,l={isCanAutoQuery:!(s.isAutoQuering=!1),queryInterval:60},f=function(e){h();var t=[];if(0<e.length){var n=e[0].jane_name,r=a.get(n);r&&(l.isCanAutoQuery=r.isCanAutoQuery,l.queryInterval=r.spanGetResultTime)}angular.forEach(e,function(e){"0"!=e.status&&1!=e.status&&8!=e.status||l.isCanAutoQuery&&t.push(e.paper_id)}),0<t.length&&(c=o(function(){i.queryCheckRecordByPids(t)},1e3*l.queryInterval),s.isAutoQuering=!0)},h=function(){c&&(o.cancel(c),c=null,s.isAutoQuering=!1)};i.queryCheckRecordByPids=function(e){return n.queryCheckRecordByPids(e).success(function(e){if(!e.code){var t=e.data.data,n=!1;angular.forEach(t,function(e){2==e.status&&(!function(e,t){for(var n=0;n<e.length;n++)if(e[n].paper_id==t.paper_id){e[n]=t;break}}(s.queryRecords,e),n=!0,i.$emit("checkRecordSuccess",e))}),n&&f(s.queryRecords)}})},i.queryCheckRecordByTid=function(e){if(h(),e)return s.isQuerying=!0,s.queryRecords=[],n.queryCheckRecordByTid(e).success(function(e){if(s.isQuerying=!1,e.code)r.showMsg(e.codeMsg,"error.query.record");else{var t=e.data.data;s.queryRecords=t}}).error(function(e){s.isQuerying=!1}).success(function(e){f(s.queryRecords)})},i.queryCheckRecordByTitleAuthor=function(e,t){return h(),s.isQuerying=!0,s.queryRecords=[],n.queryCheckRecordByTitleAuthor(e,t).success(function(e){if(s.isQuerying=!1,e.code)r.showMsg(e.codeMsg,"error.query.record");else{var t=e.data.data;s.queryRecords=t}}).error(function(e){s.isQuerying=!1}).success(function(e){f(s.queryRecords)})},i.deleteCheckRecord=function(e){if(confirm("删除后将不可恢复，是否确认删除?"))return s.isDeleting=!0,n.deleteCheckRecord(e).success(function(e){s.isDeleting=!1,e.data?(r.showMsg("删除成功","success.delete.record"),i.queryCheckRecordByTid(s.queryTid)):r.showMsg("删除失败","fail.delete.record")}).error(function(e){s.isDeleting=!1,r.showMsg("删除失败","fail.delete.record")})},s.queryTid&&i.queryCheckRecordByTid(s.queryTid)}])}(),function(){var e=angular.module("checkPaper");e.service("payWayService",["$rootScope","$injector","checkSystemService","paperService","configService",function(e,s,u,n,t){var c={};this.userSelected=!1;var l=this,r=function(){var e=u.current();if(!e)return{};if(c.hasOwnProperty(e.janeName))return c[e.janeName];var t=c[e.janeName]={},n=t.payWays={},r=t.sortPayWays={};for(var i in payWayData=e.payWay.data,t.payType=e.payWay["default"],payWayData){var o,a=i;o=s.get(a+"PayWayService"),payWayInstance=$.extend(!0,{},o),payWayInstance&&payWayInstance.init(payWayData[a]),n[a]=payWayInstance,r[payWayData[a].weight]=payWayInstance}return n[t.payType]&&(l.userSelected=!0),t};this.getBillingWay=function(){var e=u.current();if(!e)return"";var t=e.goodInfos,n=this.current();if(!n)return"没有设置商品或支付方式";if(n.$billingWay)return n.$billingWay;var r=n.$billingWay={};switch(r.numType=n.numType,n.numType){case"num":r.u1Num="1",r.u1Unit="件",0<t.buyerUnit?(r.u2Num=t.buyerUnit,r.u2Unit="字"):(r.u2Num=1,r.u2Unit="篇");break;case"money":r.u1Num=t.buyerPrice,r.u1Unit="元",0<t.buyerUnit?(r.u2Num=t.buyerUnit,r.u2Unit="字"):(r.u2Num=1,r.u2Unit="篇")}return r},this.getBuyerPayInfo=function(){var e=u.current();if(!e)return"";var a=e.goodInfos,s={buyerNum:0,buyerTotalPrice:0,isExceedWordsScope:!1},t=n.getPapers();return angular.forEach(t,function(e){if(e.isInited()){var t=0,n=0;if(0<a.buyerUnit){var r=e.getContentWords();if(n=t=Math.ceil(r/a.buyerUnit),s.isExceedWordsScope|=e.isExceedWordsScope(),a.isHasStartPrice){var i=parseInt(a.startUnit),o=parseFloat(a.startPrice);(n=Math.ceil((r-i)/a.buyerUnit))<0&&(n=0),s.buyerTotalPrice=o+s.buyerTotalPrice}}else n=t=1;s.buyerNum+=t,s.buyerTotalPrice=n*a.buyerPrice+s.buyerTotalPrice}}),s.buyerTotalPrice=s.buyerTotalPrice.toFixed(2),s.u1Num="num"==this.getBillingWay().numType?s.buyerNum:s.buyerTotalPrice,s.u1Unit=this.getBillingWay().u1Unit,s},this.current=function(e){var t=r();return e===undefined?t.hasOwnProperty("payWays")?t.payWays[t.payType]:void 0:!(e===t.payType||!t.payWays[e])&&(t.payWays[t.payType].reset(),t.payType=e,this.userSelected=!0)},this.getPayWays=function(){return r().sortPayWays},this.getCount=function(){var e=r();return Object.keys(e.sortPayWays).length},this.reset=function(){return this.current().reset(),!(this.userSelected=!1)}}]);var h=["configService",function(n){this._error=undefined,this.name=undefined,this.already=!0,this.is_success=!1,this.hasError=function(){return!!this._error},this.getError=function(){return this._error},this.setError=function(e){this._error=e},this.validate=function(){return!0},this.attachPayWaySubmitData=function(e){},this.success=function(e){this.is_success=!0;var t=n.getOptions();angular.isFunction(t.paySuccess)&&t.paySuccess.call(this,e)},this.reset=function(){this.is_success=!1,this._error=null},this.init=function(e){}}];e.service("pidPayWayService",["$injector",function(e){var t=e.instantiate(h);return t.name="Pid",t}]),e.service("wxPayWayService",["$injector","$interval","checkService","$rootScope",function(e,i,o,a){var s,u=e.instantiate(h);u.payType="wx",u.name="微信支付",u.numType="money",u.qr_img_url="",u.qr_url="",u.has_qr_img=!1,u.qr_img_loading=!1,u.qr_load_fail=!1,u.oid="",u.needProcessView=!0,u.is_expired=!1,u.expired_second=0,u.money=0,u.attachPayWaySubmitData=function(e){this.qr_img_loading=!0,e.pay_type=this.payType},u.reset=function(){s&&i.cancel(s),this.has_qr_img=!1,this.qr_img_loading=!1,this.oid="",this.qr_img_url="",this.qr_url="",this.money=0,this.is_expired=!1,this.is_success=!1,this.qr_load_fail=!1};return u.processResultView=function(e){var t=this,n=this.oid=e.resp.data.oid,r=e.resp.data.type;this.qr_url=e.resp.data.qrlink,this.has_qr_img=!0,this.money=e.resp.data.money,this.is_expired=!1,this.expired_second=max_second=e.resp.data.expired,function(e,t,n){if(e.qr_img_loading=!0,"qrlink"==n){var r=$("<div>")[0],i=(new QRCode(r,{text:t,width:300,height:300,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.M}),r.children[1]);i?(r.children[1].src=r.children[0].toDataURL("image/png"),r.children[1].style.display="",r.children[0].style.display="none"):(i=new Image).src="http://api.checkpass.net/call/qrcode/qrcode.php?data="+t+"&size=10&margin=1"}else(i=new Image).src=t;i.onload=function(){e.qr_img_url=i.src,e.qr_img_loading=!1,a.$apply()}}(t,this.qr_url,r),s&&i.cancel(s),(s=i(function(e){t.expired_second=max_second-e,e%2==0&&o.queryPayStatus(n).success(function(e){e.data&&u.success({oid:n})})},1e3,this.expired_second)).then(function(){t.is_expired=!0})},u}]),e.service("wxmpPayWayService",["wxPayWayService",function(e){var t=$.extend(!0,{},e);return t.payType="wxmp",t.name="公众号支付",t}]),e.service("alipayPayWayService",["wxPayWayService",function(e){var t=$.extend(!0,{},e);return t.payType="alipay",t.name="支付宝支付",t}]),e.service("taobaoPayWayService",["$injector","$timeout","checkService","payWayService",function(e,n,r,t){var i=e.instantiate(h);i.payType="taobao",i.totalPay=0,i.restPay=0,i.usedPay=0,i.tidsInfo=[],i.already=!1,i.isQuerying=!1,i.minTidNum=2,i.name="淘宝支付",i.numType="num",i.queryType="taobao:num",i.needProcessView=!1;for(var u={tid:"",info:{total:0,rest:0,used:0}},o=function(){var e=this.tidsInfo.length;this.tidsInfo[e]=angular.copy(u)},c=function(){var e={};this.totalPay=this.restPay=this.usedPay=0;for(var t=0;t<this.tidsInfo.length;t++){var n=this.tidsInfo[t].tid;!0!==e[n]&&(e[n]=!0,this.totalPay+=this.tidsInfo[t].info.total,this.restPay+=this.tidsInfo[t].info.rest,this.usedPay+=this.tidsInfo[t].info.used)}},l={},a=0;a<i.minTidNum;a++)o.call(i);var s;i.getFirst=function(){return this.tidsInfo[0]},i.init=function(e){this.numType=e.numType,this.queryType=e.queryType},i.attachPayWaySubmitData=function(t){t.pay_type=this.queryType,t.param={},t.param.tids=[],angular.forEach(this.tidsInfo,function(e){0<e.info.rest&&t.param.tids.push(e.tid)})};var f=i.success;return i.success=function(e){f.call(i,{oid:e.oid})},i.validate=function(){this.setError(undefined);var e=t.getBuyerPayInfo();return c.call(this),"0"==this.restPay?(this.setError("请填入至少一个有效定单"),!1):"num"==this.numType&&this.restPay<e.buyerNum?(this.setError("定单件数不足,请补拍定单"),!1):!("money"==this.numType&&this.restPay<e.buyerTotalPrice)||(this.setError("定单金额不足,请补拍定单"),!1)},i.reQueryTidDetail=function(e){s&&n.cancel(s);var t=this;s=n(function(){(function(e){var i=this;i.setError(null);var o=i.tidsInfo[e];if(o.info=angular.copy(u.info),c.call(i),i.errorMsg="",15<=o.tid.length&&o.tid.length<=19){var a=function(e){switch(i.numType){case"num":o.info.total=e.total,o.info.rest=e.rest,o.info.used=e.used;break;case"money":o.info.total=parseFloat(e.total),o.info.rest=parseFloat(e.rest),o.info.used=parseFloat(e.used)}c.call(i)};if(l[o.tid]!==undefined)return void a.call(i,l[o.tid]);i.isQuerying=!0;var s=o.tid;r.queryTidInfo(s,i.queryType).success(function(e,t,n,r){i.isQuerying=!1,o.tid.length>s.length||(e.code?(i.errorMsg=e.codeMsg,i.setError(e.codeMsg)):(l[s]=e.data,a(e.data)))}).error(function(){i.isQuerying=!1})}}).call(t,e)},350)},i}]),e.service("checktidPayWayService",["taobaoPayWayService",function(e){var t=$.extend(!0,{},e);return t.payType="checktid",t.name="自定义订单",t.numType="num",t.queryType="checktid:num",t.init=function(){},t}])}();